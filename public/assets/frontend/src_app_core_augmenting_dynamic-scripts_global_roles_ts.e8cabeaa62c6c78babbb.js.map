{"version":3,"mappings":"iKA6BC,SAAUA,GACT,MAAMC,EAAc,CAClBC,OACMD,EAAYE,sBACdF,EAAYG,wBACZH,EAAYI,2CAA2CL,EAAE,mBAI7DI,wBACEJ,EAAE,gBAAgBM,GAAG,QAASC,KAAKC,eAGrCA,eACEP,EAAYI,2CAA2CE,OAGzDF,2CAA2CI,GACrCT,EAAES,GAASC,KAAK,YAClBT,EAAYU,oBACZV,EAAYW,oBACZX,EAAYY,sBACZZ,EAAYa,yBAEZb,EAAYc,oBACZd,EAAYe,oBACZf,EAAYgB,uBACZhB,EAAYiB,wBAIhBP,oBACEX,EAAE,uBAAuBmB,QAG3BJ,oBACEf,EAAE,sBAAsBmB,OACxBnB,EAAE,uBAAuBmB,QAG3BH,oBACEhB,EAAE,uBAAuBoB,QAG3BR,oBACEZ,EAAE,sBAAsBoB,OACxBpB,EAAE,uBAAuBoB,QAG3BP,sBACEb,EAAE,iFAAiFqB,KAAK,CAACZ,EAAIa,KAC3FrB,EAAYsB,eAAeD,MAI/BJ,sBACElB,EAAE,iFAAiFqB,KAAK,CAACZ,EAAIa,KAC3FrB,EAAYsB,eAAeD,MAI/BC,eAAed,GACbT,EAAES,GAASC,KAAK,YAAY,IAG9BO,uBACEjB,EAAE,iFAAiFqB,KAAK,CAACZ,EAAIa,KAC3FrB,EAAYuB,gBAAgBF,MAIhCR,uBACEd,EAAE,iFAAiFqB,KAAK,CAACZ,EAAIa,KAC3FrB,EAAYuB,gBAAgBF,MAIhCE,gBAAgBf,GACdT,EAAES,GAASC,KAAK,YAAY,IAG9BP,sBAC+F,IAAtFH,EAAE,yEAAyEyB,QAGtFzB,EAAE0B,UAAUC,MAAM1B,EAAYC,MArF/B,CAsFC0B","names":["e","i","init","script_applicable","toggle_forms_on_click","activation_and_visibility_based_on_checked","on","this","toggle_forms","o","prop","show_global_forms","hide_member_forms","enable_global_forms","disable_member_forms","show_member_forms","hide_global_forms","disable_global_forms","enable_member_forms","show","hide","each","s","enable_element","disable_element","length","document","ready","jQuery"],"sources":["./src/app/core/augmenting/dynamic-scripts/global_roles.ts"],"sourcesContent":["// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2022 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\n// Loaded dynamically when path matches\n(function ($) {\n  const globalRoles = {\n    init() {\n      if (globalRoles.script_applicable()) {\n        globalRoles.toggle_forms_on_click();\n        globalRoles.activation_and_visibility_based_on_checked($('#global_role'));\n      }\n    },\n\n    toggle_forms_on_click() {\n      $('#global_role').on('click', this.toggle_forms);\n    },\n\n    toggle_forms() {\n      globalRoles.activation_and_visibility_based_on_checked(this);\n    },\n\n    activation_and_visibility_based_on_checked(element:any) {\n      if ($(element).prop('checked')) {\n        globalRoles.show_global_forms();\n        globalRoles.hide_member_forms();\n        globalRoles.enable_global_forms();\n        globalRoles.disable_member_forms();\n      } else {\n        globalRoles.show_member_forms();\n        globalRoles.hide_global_forms();\n        globalRoles.disable_global_forms();\n        globalRoles.enable_member_forms();\n      }\n    },\n\n    show_global_forms() {\n      $('#global_permissions').show();\n    },\n\n    show_member_forms() {\n      $('#member_attributes').show();\n      $('#member_permissions').show();\n    },\n\n    hide_global_forms() {\n      $('#global_permissions').hide();\n    },\n\n    hide_member_forms() {\n      $('#member_attributes').hide();\n      $('#member_permissions').hide();\n    },\n\n    enable_global_forms() {\n      $('#global_attributes input, #global_attributes input, #global_permissions input').each((ix, el) => {\n        globalRoles.enable_element(el);\n      });\n    },\n\n    enable_member_forms() {\n      $('#member_attributes input, #member_attributes input, #member_permissions input').each((ix, el) => {\n        globalRoles.enable_element(el);\n      });\n    },\n\n    enable_element(element:any) {\n      $(element).prop('disabled', false);\n    },\n\n    disable_global_forms() {\n      $('#global_attributes input, #global_attributes input, #global_permissions input').each((ix, el) => {\n        globalRoles.disable_element(el);\n      });\n    },\n\n    disable_member_forms() {\n      $('#member_attributes input, #member_attributes input, #member_permissions input').each((ix, el) => {\n        globalRoles.disable_element(el);\n      });\n    },\n\n    disable_element(element:any) {\n      $(element).prop('disabled', true);\n    },\n\n    script_applicable() {\n      return $('body.controller-roles.action-new, body.controller-roles.action-create').length === 1;\n    },\n  };\n  $(document).ready(globalRoles.init);\n}(jQuery));\n"],"sourceRoot":"webpack:///","file":"src_app_core_augmenting_dynamic-scripts_global_roles_ts.e8cabeaa62c6c78babbb.js"}