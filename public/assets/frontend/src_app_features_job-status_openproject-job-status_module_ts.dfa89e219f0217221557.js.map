{"version":3,"mappings":"0VAYO,QAGLA,YAAoBC,EACVC,GADUC,cACVA,oBAGVC,kBACED,KAAKE,MAAQF,KAAKG,aAAaC,KAAKC,IAAyB,SAAU,CAAEC,MAAON,KAAKO,OAAOC,OAAOF,QACnGN,KAAKE,MACFO,aACAC,MACC,OAAK,IACLC,UAAU,KAEVC,OAAOC,QAAQC,SAIrBC,oBACY,QAAVjB,OAAKI,aAAK,SAAEc,iDApBHC,GAAuBC,2DAAvBD,EAAuBE,uFCuB7B,MAAMC,EAAyC,CACpD,CACEC,KAAM,eACNC,IAAK,mCACLC,OAAQ,mBACRC,UAAWP,EACXQ,KAAM,CACJC,YAAa,0BAoBZ,+CAAMC,4DAdF,CAEPC,IACAC,IAGAC,0BAAwB,CAAEC,OAAQX","names":["constructor","t","d","this","ngAfterViewInit","modal","modalService","show","j","jobId","$state","params","closingEvent","pipe","subscribe","window","history","back","ngOnDestroy","closeMe","e","a","selectors","r","name","url","parent","component","data","bodyClasses","s","c","u","m","states"],"sources":["./src/app/features/job-status/display-job-page/display-job-page.component.ts","./src/app/features/job-status/openproject-job-status.module.ts"],"sourcesContent":["import {\n  AfterViewInit, Component, OnDestroy,\n} from '@angular/core';\nimport { StateService } from '@uirouter/core';\nimport { OpModalService } from 'core-app/shared/components/modal/modal.service';\nimport { OpModalComponent } from 'core-app/shared/components/modal/modal.component';\nimport { JobStatusModalComponent } from 'core-app/features/job-status/job-status-modal/job-status.modal';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  template: '',\n})\nexport class DisplayJobPageComponent implements AfterViewInit, OnDestroy {\n  private modal?:OpModalComponent;\n\n  constructor(private $state:StateService,\n    private modalService:OpModalService) {\n  }\n\n  ngAfterViewInit() {\n    this.modal = this.modalService.show(JobStatusModalComponent, 'global', { jobId: this.$state.params.jobId });\n    this.modal\n      .closingEvent\n      .pipe(\n        take(1),\n      ).subscribe(() => {\n        // Go back in history\n        window.history.back();\n      });\n  }\n\n  ngOnDestroy() {\n    this.modal?.closeMe();\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2022 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { NgModule } from '@angular/core';\nimport { OPSharedModule } from 'core-app/shared/shared.module';\nimport { OpenprojectModalModule } from 'core-app/shared/components/modal/modal.module';\nimport { Ng2StateDeclaration, UIRouterModule } from '@uirouter/angular';\nimport { DisplayJobPageComponent } from 'core-app/features/job-status/display-job-page/display-job-page.component';\nimport { JobStatusModalComponent } from 'core-app/features/job-status/job-status-modal/job-status.modal';\n\nexport const JOB_STATUS_ROUTE:Ng2StateDeclaration[] = [\n  {\n    name: 'job-statuses',\n    url: '/job_statuses/{jobId:[a-z0-9-]+}',\n    parent: 'optional_project',\n    component: DisplayJobPageComponent,\n    data: {\n      bodyClasses: 'router--job-statuses',\n    },\n  },\n];\n\n@NgModule({\n  imports: [\n    // Commons\n    OPSharedModule,\n    OpenprojectModalModule,\n\n    // Routes for /job_statuses/:uuid\n    UIRouterModule.forChild({ states: JOB_STATUS_ROUTE }),\n\n  ],\n  declarations: [\n    DisplayJobPageComponent,\n    JobStatusModalComponent,\n  ],\n})\nexport class OpenProjectJobStatusModule {\n}\n"],"sourceRoot":"webpack:///","file":"src_app_features_job-status_openproject-job-status_module_ts.dfa89e219f0217221557.js"}