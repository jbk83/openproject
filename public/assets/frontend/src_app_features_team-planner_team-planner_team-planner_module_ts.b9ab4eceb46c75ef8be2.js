"use strict";(self.webpackChunkopenproject_frontend=self.webpackChunkopenproject_frontend||[]).push([["src_app_features_team-planner_team-planner_team-planner_module_ts"],{25193:(Q,Te,C)=>{C.r(Te),C.d(Te,{TeamPlannerModule:()=>F});var O=C(54364),Ie=C(84906),le=C(32853),ce=C(91594),Nt=C(53875),Wt=C(74990),Lt=C(32824),qt=C(7794),Ut=C(46430),Bt=C(85603),Zt=C(1813),v=C(3786),Ft=C(57973),jt=C(11266),Vt=C(22956),Gt=C(77434),Yt=C(91654),$t=C(52025),Me=C(79474),W=C(76491),ze=C(44022),Jt=C(7493),X=C(96617),K=C(89118),s=C(2316);class L{constructor(t,e,n,o){this.authorisation=t,this.schemaCache=e,this.workPackagesCalendarService=n,this.I18n=o,this.draggableWorkPackages$=new W.X([]),this.isDragging$=new W.X(void 0),this.text={draggingDisabled:{permissionDenied:this.I18n.t("js.team_planner.modify.errors.permission_denied"),fallback:this.I18n.t("js.team_planner.modify.errors.fallback")}}}destroyDrake(){this.drake&&this.drake.destroy()}registerDrag(t,e){this.drake=dragula({containers:[t.nativeElement],revertOnSpill:!0}),this.drake.on("drag",n=>{n.classList.add("gu-transit"),this.isDragging$.next(n.dataset.dragHelperId)}),this.drake.on("dragend",()=>{this.isDragging$.next(void 0)}),new Me.es(t.nativeElement,{itemSelector:e,mirrorSelector:".gu-mirror",eventData:this.eventData.bind(this)})}handleDrop(t){this.draggableWorkPackages$.next(this.draggableWorkPackages$.value.filter(e=>e.id!==t.id))}handleDropError(t){const e=this.draggableWorkPackages$.value;1===e.filter(o=>o.id===t.id).length||this.draggableWorkPackages$.next(e.concat(t))}workPackageDisabledExplanation(t){const e=this.workPackageDisabled(t);return e.disabled&&e.reason?e.reason:""}workPackageDisabled(t){return this.authorisation.can("work_packages","editWorkPackage")?this.workPackagesCalendarService.dateEditable(t)?{disabled:!1}:{disabled:!0,reason:this.text.draggingDisabled.fallback}:{disabled:!0,reason:this.text.draggingDisabled.permissionDenied}}eventData(t){const e=t.dataset.dragHelperId;if(!e)return;const n=this.draggableWorkPackages$.value.find(c=>c.id===e);if(!n)return;const o=moment(n.startDate),l=moment(n.dueDate).diff(o,"days")+1;return{id:`${n.href}-external`,title:n.subject,duration:{days:l||1},extendedProps:{workPackage:n}}}}L.\u0275fac=function(t){return new(t||L)(s.LFG(Jt.g),s.LFG(ze.y),s.LFG(K.W),s.LFG(X.D))},L.\u0275prov=s.Yz7({token:L,factory:L.\u0275fac});var Qt=C(43882),He=C(44838),ee=C(87916);const Ae=(0,ee.aD)("[Team planner] Event removed from team planner",(0,ee.NQ)()),Oe=(0,ee.aD)("[Team planner] External event added to the team planner",(0,ee.NQ)());var Xt=C(29161),de=C(60419),Ne=C(18640),Kt=C(77616),en=C(81628);function tn(r,t){if(1&r&&s._UZ(0,"op-back-button",11),2&r){const e=s.oxw();s.Q6J("customBackMethod",e.backButtonCallback)}}function nn(r,t){if(1&r&&(s.TgZ(0,"li",15),s._UZ(1,"ndc-dynamic",16),s.qZA()),2&r){const e=s.oxw().$implicit,n=s.oxw(2);s.Q6J("ngClass",e.containerClasses),s.xp6(1),s.Q6J("ndcDynamicComponent",e.component)("ndcDynamicInputs",e.inputs)("ndcDynamicInjector",n.injector)("ndcDynamicOutputs",e.outputs)}}function rn(r,t){if(1&r&&(s.ynx(0),s.YNc(1,nn,2,5,"li",14),s.BQk()),2&r){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",!e.show||e.show())}}function on(r,t){if(1&r&&(s.TgZ(0,"ul",12),s.YNc(1,rn,2,1,"ng-container",13),s.qZA()),2&r){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.toolbarButtonComponents)}}function an(r,t){if(1&r&&s._UZ(0,"ndc-dynamic",17),2&r){const e=s.oxw();s.Q6J("ndcDynamicComponent",e.filterContainerDefinition.component)("ndcDynamicInputs",e.filterContainerDefinition.inputs)("ndcDynamicOutputs",e.filterContainerDefinition.outputs)("ndcDynamicInjector",e.injector)}}let N=class extends Ft.r{constructor(){super(...arguments),this.text={title:this.I18n.t("js.team_planner.title"),unsaved_title:this.I18n.t("js.team_planner.unsaved_title")},this.selectedTitle=this.text.unsaved_title,this.filterContainerDefinition={component:Gt.J},this.currentPartition="-split",this.showToolbar=!0,this.titleEditingEnabled=!1,this.showToolbarSaveButton=!0,this.toolbarDisabled=!1,this.toolbarButtonComponents=[{component:Qt.P},{component:Vt.U},{component:jt.a},{component:$t.b,containerClasses:"hidden-for-mobile",show:()=>this.authorisationService.can("query","updateImmediately"),inputs:{hideTableOptions:!0}}]}ngOnInit(){super.ngOnInit(),this.wpTableFilters.hidden.push("assignee","startDate","dueDate","memberOfGroup","assignedToRole","assigneeOrGroup","project")}setPartition(t){var e;this.currentPartition=(null===(e=t.data)||void 0===e?void 0:e.partition)||"-split"}staticQueryName(t){return this.text.unsaved_title}loadInitialQuery(){}reloadOnEventAdded(){this.refresh(!1,!1)}};N.\u0275fac=function(){let r;return function(e){return(r||(r=s.n5z(N)))(e||N)}}(),N.\u0275cmp=s.Xpm({type:N,selectors:[["ng-component"]],features:[s._Bn([Yt.E,K.W,Ne.j,L]),s.qOj],decls:11,vars:8,consts:[[1,"work-packages-partitioned-query-space--container",3,"ngClass"],[1,"toolbar-container","-editable"],[1,"toolbar"],["class","op-back-button","linkClass","op-back-button_mobile-limited-width",3,"customBackMethod",4,"ngIf"],[3,"title","inFlight","showSaveCondition","editable","onSave","onEmptySubmit"],["class","toolbar-items hide-when-print",4,"ngIf"],[1,"work-packages-partitioned-query-space--filter-area"],[3,"ndcDynamicComponent","ndcDynamicInputs","ndcDynamicOutputs","ndcDynamicInjector",4,"ngIf"],[1,"work-packages-partitioned-page--content-container"],["data-indicator-name","table","ui-view","content-left",1,"work-packages-partitioned-page--content-left","loading-indicator--location"],["ui-view","content-right",1,"work-packages-partitioned-page--content-right"],["linkClass","op-back-button_mobile-limited-width",1,"op-back-button",3,"customBackMethod"],[1,"toolbar-items","hide-when-print"],[4,"ngFor","ngForOf"],["class","toolbar-item",3,"ngClass",4,"ngIf"],[1,"toolbar-item",3,"ngClass"],[3,"ndcDynamicComponent","ndcDynamicInputs","ndcDynamicInjector","ndcDynamicOutputs"],[3,"ndcDynamicComponent","ndcDynamicInputs","ndcDynamicOutputs","ndcDynamicInjector"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.YNc(3,tn,1,1,"op-back-button",3),s.TgZ(4,"editable-toolbar-title",4),s.NdJ("onSave",function(o){return e.changeChangesFromTitle(o)})("onEmptySubmit",function(){return e.updateTitleName("")}),s.qZA(),s.YNc(5,on,2,1,"ul",5),s.qZA(),s.qZA(),s.TgZ(6,"div",6),s.YNc(7,an,1,4,"ndc-dynamic",7),s.qZA(),s.TgZ(8,"div",8),s._UZ(9,"div",9),s._UZ(10,"div",10),s.qZA(),s.qZA()),2&t&&(s.Q6J("ngClass",e.currentPartition),s.xp6(3),s.Q6J("ngIf",e.backButtonCallback),s.xp6(1),s.Q6J("title",e.selectedTitle)("inFlight",e.toolbarDisabled)("showSaveCondition",e.showToolbarSaveButton)("editable",e.titleEditingEnabled),s.xp6(1),s.Q6J("ngIf",e.showToolbar),s.xp6(2),s.Q6J("ngIf",e.filterContainerDefinition))},directives:[O.mk,O.O5,Kt.s5,Ie.UIView,en.W,O.sg,le.B5,le.oc],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 0 10px 5px #0000001a;z-index:10000!important}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;display:grid;grid-template-columns:1fr;grid-template-rows:auto auto minmax(200px,1fr);margin-left:-10px;padding-left:10px;width:calc(100% + 10px)}.work-packages-partitioned-query-space--container.-right-only[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-left[_ngcontent-%COMP%]{display:none}.work-packages-partitioned-query-space--container.-right-only[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-right[_ngcontent-%COMP%]{flex-grow:1}.work-packages-partitioned-query-space--container.-left-only[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-right[_ngcontent-%COMP%]{display:none}.work-packages-partitioned-query-space--container.-left-only[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-left[_ngcontent-%COMP%]{overflow:auto}.work-packages-partitioned-query-space--container.-left-only[_ngcontent-%COMP%]   wp-resizer[_ngcontent-%COMP%]{display:none}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-container[_ngcontent-%COMP%]{display:flex;overflow:auto;scrollbar-color:transparent transparent;scrollbar-width:thin}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px;width:10px}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#DDDDDD;visibility:hidden}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-container[_ngcontent-%COMP%]:hover{scrollbar-color:#DDDDDD transparent}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-container[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{visibility:visible}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-left[_ngcontent-%COMP%], .work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-right[_ngcontent-%COMP%]{position:relative}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-left[_ngcontent-%COMP%]{flex:1}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .title-container_editable[_ngcontent-%COMP%]{margin-left:-7px}@media only screen and (max-width: 679px){.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-left[_ngcontent-%COMP%], .work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .work-packages-partitioned-page--content-right[_ngcontent-%COMP%]{min-width:initial;max-width:100vw;max-height:100%}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto;justify-items:start}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .op-back-button[_ngcontent-%COMP%]{grid-column:1/3;grid-row:1/2}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2/3;overflow:hidden}.work-packages-partitioned-query-space--container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-items[_ngcontent-%COMP%]{grid-column:2/3;grid-row:2/3}}"],changeDetection:0}),(0,v.gn)([(0,Xt.W)(),(0,v.w6)("design:type",de.b)],N.prototype,"actions$",void 0),(0,v.gn)([(0,He.B)(Oe),(0,v.w6)("design:type",Function),(0,v.w6)("design:paramtypes",[]),(0,v.w6)("design:returntype",void 0)],N.prototype,"reloadOnEventAdded",null),N=(0,v.gn)([He.b],N);var We=C(79441),U=C(61486),z=C(33927),ue=C(9170),Le=C(79902),pe=C(1143),qe=C(92597),j=C(80639),sn=C(85816),Ue=C(83720),he=C(53466),Be=C(17163),ln=C(71435),i=(C(60218),C(85807)),cn="2021-11-03",hn=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],fn={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};var yn={schedulerLicenseKey:String};const te=(0,i.rxu)({optionRefiners:yn,viewContainerAppends:[function(r){var t=r.options.schedulerLicenseKey;if(!function(r){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(r)}("undefined"!=typeof window?window.location.href:"")){var n=function(r){if(-1!==hn.indexOf(r))return"valid";var t=(r||"").match(/^(\d+)-fcs-(\d+)$/);if(t&&10===t[1].length){var e=new Date(1e3*parseInt(t[2],10)),n=new Date(i.vc.mockSchedulerReleaseDate||cn);if((0,i.qbb)(n))return(0,i.E4D)(n,-372)<e?"valid":"outdated"}return"invalid"}(t);if("valid"!==n)return(0,i.azq)("div",{className:"fc-license-message",style:fn},"outdated"===n?(0,i.azq)(i.HYg,null,"Your license key is too old to work with this version. ",(0,i.azq)("a",{href:"http://fullcalendar.io/docs/schedulerLicenseKey#outdated"},"More Info")):(0,i.azq)(i.HYg,null,"Your license key is invalid. ",(0,i.azq)("a",{href:"http://fullcalendar.io/docs/schedulerLicenseKey#invalid"},"More Info")))}return null}]});C(47445);var Ve,Ze="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" "),Fe=function(){function r(t){var e=this;this.el=t,this.emitter=new i.Q5$,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new i.snJ(this._handleWheelWaited.bind(this)),this.scrollWaiter=new i.snJ(this._handleScrollWaited.bind(this)),this.handleScroll=function(){e.startScroll(),e.emitter.trigger("scroll",e.isRecentlyWheeled,e.isTouching),e.isRecentlyScrolled=!0,e.scrollWaiter.request(500)},this.handleWheel=function(){e.isRecentlyWheeled=!0,e.wheelWaiter.request(500)},this.handleTouchStart=function(){e.isTouching=!0},this.handleTouchEnd=function(){e.isTouching=!1,e.isRecentlyScrolled||e.endScroll()},t.addEventListener("scroll",this.handleScroll),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.addEventListener("touchend",this.handleTouchEnd);for(var n=0,o=Ze;n<o.length;n++){var a=o[n];t.addEventListener(a,this.handleWheel)}}return r.prototype.destroy=function(){var t=this.el;t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.removeEventListener("touchend",this.handleTouchEnd);for(var e=0,n=Ze;e<n.length;e++){var o=n[e];t.removeEventListener(o,this.handleWheel)}},r.prototype.startScroll=function(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))},r.prototype.endScroll=function(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())},r.prototype._handleScrollWaited=function(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()},r.prototype._handleWheelWaited=function(){this.isRecentlyWheeled=!1},r}();function je(r){var t=r.scrollLeft;if("rtl"===window.getComputedStyle(r).direction)switch(Ge()){case"negative":t*=-1;case"reverse":t=r.scrollWidth-t-r.clientWidth}return t}function wn(r,t){if("rtl"===window.getComputedStyle(r).direction)switch(Ge()){case"reverse":t=r.scrollWidth-t;break;case"negative":t=-(r.scrollWidth-t)}r.scrollLeft=t}function Ge(){return Ve||((r=document.createElement("div")).style.position="absolute",r.style.top="-1000px",r.style.width="1px",r.style.height="1px",r.style.overflow="scroll",r.style.direction="rtl",r.style.fontSize="100px",r.innerHTML="A",document.body.appendChild(r),r.scrollLeft>0?t="positive":(r.scrollLeft=1,t=r.scrollLeft>0?"reverse":"negative"),(0,i.bXf)(r),Ve=t);var t,r}var fe,Rn="undefined"!=typeof navigator&&/Edge/.test(navigator.userAgent),kn=function(){function r(t,e){var n=this;this.scrollEl=t,this.isRtl=e,this.usingRelative=null,this.updateSize=function(){var o=n.scrollEl,a=(0,i.xlG)(o,".fc-sticky"),l=n.queryElGeoms(a),c=o.clientWidth,d=o.clientHeight;n.usingRelative?function(r,t,e,n,o){r.forEach(function(a,l){var g,f,c=t[l],d=c.naturalBound,u=c.parentBound,p=u.right-u.left,h=u.bottom-u.bottom;p>n||h>o?(g=e[l].left-d.left,f=e[l].top-d.top):(g="",f=""),(0,i.bg6)(a,{position:"relative",left:g,right:-g,top:f})})}(a,l,n.computeElDestinations(l,c),c,d):function(r,t,e){r.forEach(function(n,o){var p,a=t[o],l=a.textAlign,c=a.elWidth,d=a.parentBound,u=d.right-d.left;p="center"===l&&u>e?(e-c)/2:"",(0,i.bg6)(n,{left:p,right:p,top:0})})}(a,l,c)},this.usingRelative=(null==fe&&(fe=function(){var r=document.createElement("div");r.style.position="sticky",document.body.appendChild(r);var t=window.getComputedStyle(r).position;return(0,i.bXf)(r),"sticky"===t}()),!fe||Rn&&e),this.usingRelative&&(this.listener=new Fe(t),this.listener.emitter.on("scrollEnd",this.updateSize))}return r.prototype.destroy=function(){this.listener&&this.listener.destroy()},r.prototype.queryElGeoms=function(t){for(var n=this.scrollEl,o=this.isRtl,a=function(r){var t=r.getBoundingClientRect(),e=(0,i.ld2)(r);return{left:t.left+e.borderLeft+e.scrollbarLeft-je(r),top:t.top+e.borderTop-r.scrollTop}}(n),l=[],c=0,d=t;c<d.length;c++){var u=d[c],p=(0,i.sZq)((0,i.skW)(u.parentNode,!0,!0),-a.left,-a.top),h=u.getBoundingClientRect(),g=window.getComputedStyle(u),f=window.getComputedStyle(u.parentNode).textAlign,m=null;"start"===f?f=o?"right":"left":"end"===f&&(f=o?"left":"right"),"sticky"!==g.position&&(m=(0,i.sZq)(h,-a.left-(parseFloat(g.left)||0),-a.top-(parseFloat(g.top)||0))),l.push({parentBound:p,naturalBound:m,elWidth:h.width,elHeight:h.height,textAlign:f})}return l},r.prototype.computeElDestinations=function(t,e){var n=this.scrollEl,o=n.scrollTop,a=je(n),l=a+e;return t.map(function(c){var g,f,d=c.elWidth,u=c.elHeight,p=c.parentBound,h=c.naturalBound;switch(c.textAlign){case"left":g=a;break;case"right":g=l-d;break;case"center":g=(a+l)/2-d/2}return g=Math.min(g,p.right-d),g=Math.max(g,p.left),f=o,f=Math.min(f,p.bottom-u),{left:g,top:f=Math.max(f,h.top)}})},r}();var Tn=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.elRef=(0,i.VfA)(),e.state={xScrollbarWidth:0,yScrollbarWidth:0},e.handleScroller=function(n){e.scroller=n,(0,i.k$v)(e.props.scrollerRef,n)},e.handleSizing=function(){var n=e.props;"scroll-hidden"===n.overflowY&&e.setState({yScrollbarWidth:e.scroller.getYScrollbarWidth()}),"scroll-hidden"===n.overflowX&&e.setState({xScrollbarWidth:e.scroller.getXScrollbarWidth()})},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=e.props,o=e.state,l=e.context.isRtl&&(0,i.qDX)(),c=0,d=0,u=0;return"scroll-hidden"===n.overflowX&&(u=o.xScrollbarWidth),"scroll-hidden"===n.overflowY&&null!=o.yScrollbarWidth&&(l?c=o.yScrollbarWidth:d=o.yScrollbarWidth),(0,i.azq)("div",{ref:this.elRef,className:"fc-scroller-harness"+(n.liquid?" fc-scroller-harness-liquid":"")},(0,i.azq)(i.Ttm,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===n.overflowX?"scroll":n.overflowX,overflowY:"scroll-hidden"===n.overflowY?"scroll":n.overflowY,overcomeLeft:c,overcomeRight:d,overcomeBottom:u,maxHeight:"number"==typeof n.maxHeight?n.maxHeight+("scroll-hidden"===n.overflowX?o.xScrollbarWidth:0):"",liquid:n.liquid,liquidIsAbsolute:!0},n.children))},t.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(e){(0,i.S6v)(e,this.props)||this.handleSizing()},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},t.prototype.needsXScrolling=function(){return this.scroller.needsXScrolling()},t.prototype.needsYScrolling=function(){return this.scroller.needsYScrolling()},t}(i.H6J),In=function(){function r(t,e){var n=this;this.isVertical=t,this.scrollEls=e,this.isPaused=!1,this.scrollListeners=e.map(function(o){return n.bindScroller(o)})}return r.prototype.destroy=function(){for(var t=0,e=this.scrollListeners;t<e.length;t++){e[t].destroy()}},r.prototype.bindScroller=function(t){var e=this,o=this.scrollEls,a=this.isVertical,l=new Fe(t);return l.emitter.on("scroll",function(u,p){if(!e.isPaused&&((!e.masterEl||e.masterEl!==t&&(u||p))&&e.assignMaster(t),e.masterEl===t))for(var h=0,g=o;h<g.length;h++){var f=g[h];f!==t&&(a?f.scrollTop=t.scrollTop:f.scrollLeft=t.scrollLeft)}}),l.emitter.on("scrollEnd",function(){e.masterEl===t&&(e.masterEl=null)}),l},r.prototype.assignMaster=function(t){this.masterEl=t;for(var e=0,n=this.scrollListeners;e<n.length;e++){var o=n[e];o.el!==t&&o.endScroll()}},r.prototype.forceScrollLeft=function(t){this.isPaused=!0;for(var e=0,n=this.scrollListeners;e<n.length;e++){wn(n[e].el,t)}this.isPaused=!1},r.prototype.forceScrollTop=function(t){this.isPaused=!0;for(var e=0,n=this.scrollListeners;e<n.length;e++){n[e].el.scrollTop=t}this.isPaused=!1},r}(),ne=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.compileColGroupStats=(0,i.ums)(An,Nn),e.renderMicroColGroups=(0,i.ums)(i.hgf),e.clippedScrollerRefs=new i.lAU,e.scrollerElRefs=new i.lAU(e._handleScrollerEl.bind(e)),e.chunkElRefs=new i.lAU(e._handleChunkEl.bind(e)),e.getStickyScrolling=(0,i.ums)(Wn,null,Qe),e.getScrollSyncersBySection=(0,i.E0)(Je.bind(e,!0),null,re),e.getScrollSyncersByColumn=(0,i.E0)(Je.bind(e,!1),null,re),e.stickyScrollings=[],e.scrollSyncersBySection={},e.scrollSyncersByColumn={},e.rowUnstableMap=new Map,e.rowInnerMaxHeightMap=new Map,e.anyRowHeightsChanged=!1,e.recentSizingCnt=0,e.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},e.handleSizing=function(n,o){if(e.allowSizing()){o||(e.anyRowHeightsChanged=!0);var a={};(n||!o&&!e.rowUnstableMap.size)&&(a.sectionRowMaxHeights=e.computeSectionRowMaxHeights()),e.setState((0,v.pi)((0,v.pi)({shrinkWidths:e.computeShrinkWidths()},e.computeScrollerDims()),a),function(){e.rowUnstableMap.size||e.updateStickyScrolling()})}},e.handleRowHeightChange=function(n,o){var a=e,l=a.rowUnstableMap,c=a.rowInnerMaxHeightMap;if(o){l.delete(n);var d=Ye(n);(!c.has(n)||c.get(n)!==d)&&(c.set(n,d),e.anyRowHeightsChanged=!0),!l.size&&e.anyRowHeightsChanged&&(e.anyRowHeightsChanged=!1,e.setState({sectionRowMaxHeights:e.computeSectionRowMaxHeights()}))}else l.set(n,!0)},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=e.props,o=e.state,a=e.context,l=o.shrinkWidths,c=this.compileColGroupStats(n.colGroups.map(function(D){return[D]})),d=this.renderMicroColGroups(c.map(function(D,T){return[D.cols,l[T]]})),u=(0,i.SR3)(n.liquid,a),p=this.getDims();p[0],p[1];for(var m,h=n.sections,g=h.length,f=0,y=[],S=[],w=[];f<g&&"header"===(m=h[f]).type;)y.push(this.renderSection(m,f,c,d,o.sectionRowMaxHeights,!0)),f+=1;for(;f<g&&"body"===(m=h[f]).type;)S.push(this.renderSection(m,f,c,d,o.sectionRowMaxHeights,!1)),f+=1;for(;f<g&&"footer"===(m=h[f]).type;)w.push(this.renderSection(m,f,c,d,o.sectionRowMaxHeights,!0)),f+=1;var x=!(0,i.X45)(),b={role:"rowgroup"};return(0,i.azq)("table",{ref:n.elRef,role:"grid",className:u.join(" ")},function(r,t){var e=r.map(function(n,o){var a=n.width;return"shrink"===a&&(a=n.totalColWidth+(0,i.fyp)(t[o])+1),(0,i.azq)("col",{style:{width:a}})});return i.azq.apply(void 0,(0,v.ev)(["colgroup",{}],e))}(c,l),Boolean(!x&&y.length)&&i.azq.apply(void 0,(0,v.ev)(["thead",b],y)),Boolean(!x&&S.length)&&i.azq.apply(void 0,(0,v.ev)(["tbody",b],S)),Boolean(!x&&w.length)&&i.azq.apply(void 0,(0,v.ev)(["tfoot",b],w)),x&&i.azq.apply(void 0,(0,v.ev)((0,v.ev)((0,v.ev)(["tbody",b],y),S),w)))},t.prototype.renderSection=function(e,n,o,a,l,c){var d=this;return"outerContent"in e?(0,i.azq)(i.HYg,{key:e.key},e.outerContent):(0,i.azq)("tr",{key:e.key,role:"presentation",className:(0,i.PFj)(e,this.props.liquid).join(" ")},e.chunks.map(function(u,p){return d.renderChunk(e,n,o[p],a[p],u,p,(l[n]||[])[p]||[],c)}))},t.prototype.renderChunk=function(e,n,o,a,l,c,d,u){if("outerContent"in l)return(0,i.azq)(i.HYg,{key:l.key},l.outerContent);var p=this.state,h=p.scrollerClientWidths,g=p.scrollerClientHeights,f=this.getDims(),m=f[0],y=f[1],S=n*y+c,x=c===(!this.context.isRtl||(0,i.qDX)()?y-1:0),b=n===m-1,D=b&&p.forceXScrollbars,T=x&&p.forceYScrollbars,E=o&&o.allowXScrolling,A=(0,i.aDZ)(this.props,e),k=(0,i.VFE)(this.props,e),R=e.expandRows&&k,P=o&&o.totalColMinWidth||"",_=(0,i.Yvu)(e,l,{tableColGroupNode:a,tableMinWidth:P,clientWidth:void 0!==h[S]?h[S]:null,clientHeight:void 0!==g[S]?g[S]:null,expandRows:R,syncRowHeights:Boolean(e.syncRowHeights),rowSyncHeights:d,reportRowHeightChange:this.handleRowHeightChange},u),I=D?b?"scroll":"scroll-hidden":E?b?"auto":"scroll-hidden":"hidden",M=T?x?"scroll":"scroll-hidden":A?x?"auto":"scroll-hidden":"hidden";return _=(0,i.azq)(Tn,{ref:this.clippedScrollerRefs.createRef(S),scrollerElRef:this.scrollerElRefs.createRef(S),overflowX:I,overflowY:M,liquid:k,maxHeight:e.maxHeight},_),(0,i.azq)(u?"th":"td",{key:l.key,ref:this.chunkElRefs.createRef(S),role:"presentation"},_)},t.prototype.componentDidMount=function(){this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(e,n){this.updateScrollSyncers(),this.handleSizing(!1,n.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing),this.destroyStickyScrolling(),this.destroyScrollSyncers()},t.prototype.allowSizing=function(){var e=new Date;return!this.lastSizingDate||e.valueOf()>this.lastSizingDate.valueOf()+i.vc.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=e,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10},t.prototype.computeShrinkWidths=function(){var e=this,n=this.compileColGroupStats(this.props.colGroups.map(function(u){return[u]})),o=this.getDims(),a=o[0],l=o[1],c=a*l,d=[];return n.forEach(function(u,p){if(u.hasShrinkCol){var h=e.chunkElRefs.collect(p,c,l);d[p]=(0,i.VVk)(h)}}),d},t.prototype.computeSectionRowMaxHeights=function(){for(var e=new Map,n=this.getDims(),o=n[0],a=n[1],l=[],c=0;c<o;c+=1){var d=this.props.sections[c],u=[];if(d&&d.syncRowHeights){for(var p=[],h=0;h<a;h+=1){var g=c*a+h,f=[],m=this.chunkElRefs.currentMap[g];f=m?(0,i.xlG)(m,".fc-scrollgrid-sync-table tr").map(function(M){var Ot=Ye(M);return e.set(M,Ot),Ot}):[],p.push(f)}var y=p[0].length,S=!0;for(h=1;h<a;h+=1){if(!(d.chunks[h]&&void 0!==d.chunks[h].outerContent)&&p[h].length!==y){S=!1;break}}if(S){for(h=0;h<a;h+=1)u.push([]);for(var R=0;R<y;R+=1){var P=[];for(h=0;h<a;h+=1){var _=p[h][R];null!=_&&P.push(_)}var I=Math.max.apply(Math,P);for(h=0;h<a;h+=1)u[h].push(I)}}else{var x=[];for(h=0;h<a;h+=1)x.push(Mn(p[h])+p[h].length);var b=Math.max.apply(Math,x);for(h=0;h<a;h+=1){var D=p[h].length,T=b-D,E=Math.floor(T/D),A=T-E*(D-1),k=[];for((R=0)<D&&(k.push(A),R+=1);R<D;)k.push(E),R+=1;u.push(k)}}}l.push(u)}return this.rowInnerMaxHeightMap=e,l},t.prototype.computeScrollerDims=function(){for(var e=(0,i.ewu)(),n=this.getDims(),o=n[0],a=n[1],l=!this.context.isRtl||(0,i.qDX)()?a-1:0,c=o-1,d=this.clippedScrollerRefs.currentMap,u=this.scrollerElRefs.currentMap,p=!1,h=!1,g={},f={},m=0;m<o;m+=1){if((S=d[y=m*a+l])&&S.needsYScrolling()){p=!0;break}}for(var w=0;w<a;w+=1){var S;if((S=d[y=c*a+w])&&S.needsXScrolling()){h=!0;break}}for(m=0;m<o;m+=1)for(w=0;w<a;w+=1){var y,x=u[y=m*a+w];if(x){var b=x.parentNode;g[y]=Math.floor(b.getBoundingClientRect().width-(w===l&&p?e.y:0)),f[y]=Math.floor(b.getBoundingClientRect().height-(m===c&&h?e.x:0))}}return{forceYScrollbars:p,forceXScrollbars:h,scrollerClientWidths:g,scrollerClientHeights:f}},t.prototype.updateStickyScrolling=function(){var e=this.context.isRtl,n=this.scrollerElRefs.getAll().map(function(a){return[a,e]}),o=this.getStickyScrolling(n);o.forEach(function(a){return a.updateSize()}),this.stickyScrollings=o},t.prototype.destroyStickyScrolling=function(){this.stickyScrollings.forEach(Qe)},t.prototype.updateScrollSyncers=function(){for(var e=this.getDims(),n=e[0],o=e[1],a=n*o,l={},c={},d=this.scrollerElRefs.currentMap,u=0;u<n;u+=1){var p=u*o,h=p+o;l[u]=(0,i.uPw)(d,p,h,1)}for(var g=0;g<o;g+=1)c[g]=this.scrollerElRefs.collect(g,a,o);this.scrollSyncersBySection=this.getScrollSyncersBySection(l),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(c)},t.prototype.destroyScrollSyncers=function(){(0,i._aR)(this.scrollSyncersBySection,re),(0,i._aR)(this.scrollSyncersByColumn,re)},t.prototype.getChunkConfigByIndex=function(e){var n=this.getDims()[1],o=Math.floor(e/n),a=e%n,l=this.props.sections[o];return l&&l.chunks[a]},t.prototype.forceScrollLeft=function(e,n){var o=this.scrollSyncersByColumn[e];o&&o.forceScrollLeft(n)},t.prototype.forceScrollTop=function(e,n){var o=this.scrollSyncersBySection[e];o&&o.forceScrollTop(n)},t.prototype._handleChunkEl=function(e,n){var o=this.getChunkConfigByIndex(parseInt(n,10));o&&(0,i.k$v)(o.elRef,e)},t.prototype._handleScrollerEl=function(e,n){var o=this.getChunkConfigByIndex(parseInt(n,10));o&&(0,i.k$v)(o.scrollerElRef,e)},t.prototype.getDims=function(){var e=this.props.sections.length;return[e,e?this.props.sections[0].chunks.length:0]},t}(i.H6J);function Mn(r){for(var t=0,e=0,n=r;e<n.length;e++){t+=n[e]}return t}function Ye(r){var t=(0,i.xlG)(r,".fc-scrollgrid-sync-inner").map(zn);return t.length?Math.max.apply(Math,t):0}function zn(r){return r.offsetHeight}function An(r){var t=$e(r.cols,"width"),e=$e(r.cols,"minWidth"),n=(0,i.Qa3)(r.cols);return{hasShrinkCol:n,totalColWidth:t,totalColMinWidth:e,allowXScrolling:"shrink"!==r.width&&Boolean(t||e||n),cols:r.cols,width:r.width}}function $e(r,t){for(var e=0,n=0,o=r;n<o.length;n++){var a=o[n],l=a[t];"number"==typeof l&&(e+=l*(a.span||1))}return e}ne.addStateEquality({shrinkWidths:i.CnA,scrollerClientWidths:i.S6v,scrollerClientHeights:i.S6v});var On={cols:i.grx};function Nn(r,t){return(0,i.cbN)(r,t,On)}function Je(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return new In(r,t)}function re(r){r.destroy()}function Wn(r,t){return new kn(r,t)}function Qe(r){r.destroy()}(0,i.rxu)({deps:[te],scrollGridImpl:ne});i.vc.SCROLLGRID_RESIZE_INTERVAL=500;i.vc.MAX_TIMELINE_SLOTS=1e3;var ge=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function Xe(r,t,e,n){var o={labelInterval:e.slotLabelInterval,slotDuration:e.slotDuration};(function(r,t,e){var n=t.currentRange;if(r.labelInterval){e.countDurationsBetween(n.start,n.end,r.labelInterval)>i.vc.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),r.labelInterval=null)}if(r.slotDuration){e.countDurationsBetween(n.start,n.end,r.slotDuration)>i.vc.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),r.slotDuration=null)}if(r.labelInterval&&r.slotDuration){var l=(0,i.ltK)(r.labelInterval,r.slotDuration);(null===l||l<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),r.slotDuration=null)}})(o,r,t),et(o,r,t),function(r,t,e){var n=t.currentRange,o=r.slotDuration;if(!o){for(var a=et(r,t,e),l=0,c=ge;l<c.length;l++){var d=c[l],u=(0,i.Pvs)(d),p=(0,i.ltK)(a,u);if(null!==p&&p>1&&p<=6){o=u;break}}if(o)e.countDurationsBetween(n.start,n.end,o)>200&&(o=null);o||(o=a),r.slotDuration=o}}(o,r,t);var a=e.slotLabelFormat,l=Array.isArray(a)?a:null!=a?[a]:function(r,t,e,n){var o,a,l=r.labelInterval,c=(0,i.NTx)(l).unit,d=n.weekNumbers,u=o=a=null;switch("week"===c&&!d&&(c="day"),c){case"year":u={year:"numeric"};break;case"month":B("years",t,e)>1&&(u={year:"numeric"}),o={month:"short"};break;case"week":B("years",t,e)>1&&(u={year:"numeric"}),o={week:"narrow"};break;case"day":B("years",t,e)>1?u={year:"numeric",month:"long"}:B("months",t,e)>1&&(u={month:"long"}),d&&(o={week:"short"}),a={weekday:"narrow",day:"numeric"};break;case"hour":d&&(u={week:"short"}),B("days",t,e)>1&&(o={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),a={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":(0,i.dZD)(l)/60>=6?(u={hour:"numeric",meridiem:"short"},o=function(p){return":"+(0,i.SkG)(p.date.minute,2)}):u={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":(0,i.nCP)(l)/60>=6?(u={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},o=function(p){return":"+(0,i.SkG)(p.date.second,2)}):u={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":u={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},o=function(p){return"."+(0,i.SkG)(p.millisecond,3)}}return[].concat(u||[],o||[],a||[])}(o,r,t,e);o.headerFormats=l.map(function(T){return(0,i.SPZ)(T)}),o.isTimeScale=Boolean(o.slotDuration.milliseconds);var c=null;if(!o.isTimeScale){var d=(0,i.NTx)(o.slotDuration).unit;/year|month|week/.test(d)&&(c=d)}o.largeUnit=c,o.emphasizeWeeks=1===(0,i.XrI)(o.slotDuration)&&B("weeks",r,t)>=2&&!e.businessHours;var p,h,u=e.snapDuration;u&&(p=(0,i.Pvs)(u),h=(0,i.ltK)(o.slotDuration,p)),null==h&&(p=o.slotDuration,h=1),o.snapDuration=p,o.snapsPerSlot=h;var g=(0,i.TTZ)(r.slotMaxTime)-(0,i.TTZ)(r.slotMinTime),f=Ke(r.renderRange.start,o,t),m=Ke(r.renderRange.end,o,t);o.isTimeScale&&(f=t.add(f,r.slotMinTime),m=t.add((0,i.E4D)(m,-1),r.slotMaxTime)),o.timeWindowMs=g,o.normalizedRange={start:f,end:m};for(var y=[],S=f;S<m;)ie(S,o,r,n)&&y.push(S),S=t.add(S,o.slotDuration);o.slotDates=y;var w=-1,x=0,b=[],D=[];for(S=f;S<m;)ie(S,o,r,n)?(w+=1,b.push(w),D.push(x)):b.push(w+.5),S=t.add(S,o.snapDuration),x+=1;return o.snapDiffToIndex=b,o.snapIndexToDiff=D,o.snapCnt=w+1,o.slotCnt=o.snapCnt/o.snapsPerSlot,o.isWeekStarts=function(r,t){for(var e=r.slotDates,n=r.emphasizeWeeks,o=null,a=[],l=0,c=e;l<c.length;l++){var d=c[l],u=t.computeWeekNumber(d),p=n&&null!==o&&o!==u;o=u,a.push(p)}return a}(o,t),o.cellRows=function(r,t){for(var e=r.slotDates,n=r.headerFormats,o=n.map(function(){return[]}),a=(0,i.XrI)(r.slotDuration),l=7===a?"week":1===a?"day":null,c=n.map(function(D){return D.getLargestUnit?D.getLargestUnit():null}),d=0;d<e.length;d+=1)for(var u=e[d],p=r.isWeekStarts[d],h=0;h<n.length;h+=1){var g=n[h],f=o[h],m=f[f.length-1],y=h===n.length-1,S=n.length>1&&!y,w=null,x=c[h]||(y?l:null);if(S){var b=t.format(u,g);m&&m.text===b?m.colspan+=1:w=tt(u,b,x)}else if(!m||(0,i.GNL)(t.countDurationsBetween(r.normalizedRange.start,u,r.labelInterval))){w=tt(u,b=t.format(u,g),x)}else m.colspan+=1;w&&(w.weekStart=p,f.push(w))}return o}(o,t),o.slotsPerLabel=(0,i.ltK)(o.labelInterval,o.slotDuration),o}function Ke(r,t,e){var n=r;return t.isTimeScale||(n=(0,i.b7Q)(n),t.largeUnit&&(n=e.startOf(n,t.largeUnit))),n}function ie(r,t,e,n){if(n.isHiddenDay(r))return!1;if(t.isTimeScale){var o=(0,i.b7Q)(r),l=r.valueOf()-o.valueOf()-(0,i.TTZ)(e.slotMinTime);return(l=(l%864e5+864e5)%864e5)<t.timeWindowMs}return!0}function et(r,t,e){var n=t.currentRange,o=r.labelInterval;if(!o){var a=void 0;if(r.slotDuration){for(var l=0,c=ge;l<c.length;l++){a=c[l];var d=(0,i.Pvs)(a),u=(0,i.ltK)(d,r.slotDuration);if(null!==u&&u<=6){o=d;break}}o||(o=r.slotDuration)}else for(var p=0,h=ge;p<h.length;p++){if(a=h[p],o=(0,i.Pvs)(a),e.countDurationsBetween(n.start,n.end,o)>=18)break}r.labelInterval=o}return o}function B(r,t,e){var n=t.currentRange,o=null;return"years"===r?o=e.diffWholeYears(n.start,n.end):"months"===r||"weeks"===r?o=e.diffWholeMonths(n.start,n.end):"days"===r&&(o=(0,i.Lnh)(n.start,n.end)),o||0}function tt(r,t,e){return{date:r,text:t,rowUnit:e,colspan:1,isWeekStart:!1}}var Gn=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context;return(0,i.azq)(i.rVp,{hookProps:n.hookProps,content:o.options.slotLabelContent,defaultContent:Yn},function(a,l){return(0,i.azq)("a",(0,v.pi)({ref:a,className:"fc-timeline-slot-cushion fc-scrollgrid-sync-inner"+(n.isSticky?" fc-sticky":"")},n.navLinkAttrs),l)})},t}(i.H6J);function Yn(r){return r.text}function $n(r){return{level:r.level,date:r.dateEnv.toDate(r.dateMarker),view:r.viewApi,text:r.text}}var Jn=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.refineHookProps=(0,i.Vbb)($n),e.normalizeClassNames=(0,i.HgS)(),e.buildCellNavLinkAttrs=(0,i.HPs)(Qn),e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l=a.dateEnv,c=a.options,d=o.cell,u=o.dateProfile,p=o.tDateProfile,h=(0,i.iCZ)(d.date,o.todayRange,o.nowDate,u),g=["fc-timeline-slot","fc-timeline-slot-label"].concat("time"===d.rowUnit?(0,i.mK5)(h,a.theme):(0,i.yLW)(h,a.theme));d.isWeekStart&&g.push("fc-timeline-slot-em");var f=this.refineHookProps({level:o.rowLevel,dateMarker:d.date,text:d.text,dateEnv:a.dateEnv,viewApi:a.viewApi}),m=this.normalizeClassNames(c.slotLabelClassNames,f);return(0,i.azq)(i.y3w,{hookProps:f,didMount:c.slotLabelDidMount,willUnmount:c.slotLabelWillUnmount},function(y){return(0,i.azq)("th",{ref:y,className:g.concat(m).join(" "),"data-date":l.formatIso(d.date,{omitTime:!p.isTimeScale,omitTimeZoneOffset:!0}),colSpan:d.colspan},(0,i.azq)("div",{className:"fc-timeline-slot-frame",style:{height:o.rowInnerHeight}},(0,i.azq)(Gn,{hookProps:f,isSticky:o.isSticky,navLinkAttrs:e.buildCellNavLinkAttrs(a,d.date,d.rowUnit)})))})},t}(i.H6J);function Qn(r,t,e){return e&&"time"!==e?(0,i.rcD)(r,t,e):{}}var Xn=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props,n=e.dateProfile,o=e.tDateProfile,a=e.rowInnerHeights,l=e.todayRange,c=e.nowDate,d=o.cellRows;return(0,i.azq)(i.HYg,null,d.map(function(u,p){var h=p===d.length-1,f=["fc-timeline-header-row",o.isTimeScale&&h?"fc-timeline-header-row-chrono":""];return(0,i.azq)("tr",{key:p,className:f.join(" ")},u.map(function(m){return(0,i.azq)(Jn,{key:m.date.toISOString(),cell:m,rowLevel:p,dateProfile:n,tDateProfile:o,todayRange:l,nowDate:c,rowInnerHeight:a&&a[p],isSticky:!h})}))}))},t}(i.H6J),Kn=function(){function r(t,e,n,o,a,l){this.slatRootEl=t,this.dateProfile=n,this.tDateProfile=o,this.dateEnv=a,this.isRtl=l,this.outerCoordCache=new i.zIV(t,e,!0,!1),this.innerCoordCache=new i.zIV(t,(0,i.sSy)(e,"div"),!0,!1)}return r.prototype.isDateInRange=function(t){return(0,i.mCA)(this.dateProfile.currentRange,t)},r.prototype.dateToCoord=function(t){var e=this.tDateProfile,o=this.computeDateSnapCoverage(t)/e.snapsPerSlot,a=Math.floor(o),l=o-(a=Math.min(a,e.slotCnt-1)),d=this.innerCoordCache,u=this.outerCoordCache;return this.isRtl?u.originClientRect.width-(u.rights[a]-d.getWidth(a)*l):u.lefts[a]+d.getWidth(a)*l},r.prototype.rangeToCoords=function(t){return{start:this.dateToCoord(t.start),end:this.dateToCoord(t.end)}},r.prototype.durationToCoord=function(t){var e=this,n=e.dateProfile,o=e.tDateProfile,a=e.dateEnv,l=e.isRtl,c=0;if(n){var d=a.add(n.activeRange.start,t);o.isTimeScale||(d=(0,i.b7Q)(d)),c=this.dateToCoord(d),!l&&c&&(c+=1)}return c},r.prototype.coordFromLeft=function(t){return this.isRtl?this.outerCoordCache.originClientRect.width-t:t},r.prototype.computeDateSnapCoverage=function(t){return ve(t,this.tDateProfile,this.dateEnv)},r}();function ve(r,t,e){var n=e.countDurationsBetween(t.normalizedRange.start,r,t.snapDuration);if(n<0)return 0;if(n>=t.snapDiffToIndex.length)return t.snapCnt;var o=Math.floor(n),a=t.snapDiffToIndex[o];return(0,i.GNL)(a)?a+=n-o:a=Math.ceil(a),a}function me(r,t){return null===r?{left:"",right:""}:t?{right:r,left:""}:{left:r,right:""}}function ye(r,t){return r?t?{right:r.start,left:-r.end}:{left:r.start,right:-r.end}:{left:"",right:""}}var nt=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.rootElRef=(0,i.VfA)(),e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l=(0,i.NTx)(o.tDateProfile.slotDuration).unit,c=o.slatCoords&&o.slatCoords.dateProfile===o.dateProfile?o.slatCoords:null;return(0,i.azq)(i.wh8,{unit:l},function(d,u){return(0,i.azq)("div",{className:"fc-timeline-header",ref:e.rootElRef},(0,i.azq)("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,(0,i.azq)("tbody",null,(0,i.azq)(Xn,{dateProfile:o.dateProfile,tDateProfile:o.tDateProfile,nowDate:d,todayRange:u,rowInnerHeights:o.rowInnerHeights}))),a.options.nowIndicator&&(0,i.azq)("div",{className:"fc-timeline-now-indicator-container"},c&&c.isDateInRange(d)&&(0,i.azq)(i.AOy,{isAxis:!0,date:d},function(p,h,g,f){return(0,i.azq)("div",{ref:p,className:["fc-timeline-now-indicator-arrow"].concat(h).join(" "),style:me(c.dateToCoord(d),a.isRtl)},f)})))})},t.prototype.componentDidMount=function(){this.updateSize()},t.prototype.componentDidUpdate=function(){this.updateSize()},t.prototype.updateSize=function(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())},t.prototype.computeMaxCushionWidth=function(){return Math.max.apply(Math,(0,i.xlG)(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(function(e){return e.getBoundingClientRect().width}))},t}(i.H6J),er=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context,a=o.dateEnv,l=o.options,c=o.theme,d=n.date,u=n.tDateProfile,p=n.isEm,h=(0,i.iCZ)(n.date,n.todayRange,n.nowDate,n.dateProfile),g=["fc-timeline-slot","fc-timeline-slot-lane"],f={"data-date":a.formatIso(d,{omitTimeZoneOffset:!0,omitTime:!u.isTimeScale})},m=(0,v.pi)((0,v.pi)({date:a.toDate(n.date)},h),{view:o.viewApi});return p&&g.push("fc-timeline-slot-em"),u.isTimeScale&&g.push((0,i.GNL)(a.countDurationsBetween(u.normalizedRange.start,n.date,u.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor"),g.push.apply(g,n.isDay?(0,i.yLW)(h,c):(0,i.mK5)(h,c)),(0,i.azq)(i.QJ3,{hookProps:m,classNames:l.slotLaneClassNames,content:l.slotLaneContent,didMount:l.slotLaneDidMount,willUnmount:l.slotLaneWillUnmount,elRef:n.elRef},function(y,S,w,x){return(0,i.azq)("td",(0,v.pi)({ref:y,className:g.concat(S).join(" ")},f),(0,i.azq)("div",{ref:w},x))})},t}(i.H6J),tr=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props,n=e.tDateProfile,o=e.cellElRefs,a=n.slotDates,l=n.isWeekStarts,c=!n.isTimeScale&&!n.largeUnit;return(0,i.azq)("tbody",null,(0,i.azq)("tr",null,a.map(function(d,u){var p=d.toISOString();return(0,i.azq)(er,{key:p,elRef:o.createRef(p),date:d,dateProfile:e.dateProfile,tDateProfile:n,nowDate:e.nowDate,todayRange:e.todayRange,isEm:l[u],isDay:c})})))},t}(i.H6J),rt=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.rootElRef=(0,i.VfA)(),e.cellElRefs=new i.lAU,e.handleScrollRequest=function(n){var o=e.props.onScrollLeftRequest,a=e.coords;if(o&&a){if(n.time)o(a.coordFromLeft(a.durationToCoord(n.time)));return!0}return null},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context;return(0,i.azq)("div",{className:"fc-timeline-slots",ref:this.rootElRef},(0,i.azq)("table",{"aria-hidden":!0,className:o.theme.getClass("table"),style:{minWidth:n.tableMinWidth,width:n.clientWidth}},n.tableColGroupNode,(0,i.azq)(tr,{cellElRefs:this.cellElRefs,dateProfile:n.dateProfile,tDateProfile:n.tDateProfile,nowDate:n.nowDate,todayRange:n.todayRange})))},t.prototype.componentDidMount=function(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var n=this.props,o=this.context;null!==n.clientWidth&&this.scrollResponder&&(this.rootElRef.current.offsetWidth&&(this.coords=new Kn(this.rootElRef.current,function(r,t){return t.map(function(e){var n=e.toISOString();return r[n]})}(this.cellElRefs.currentMap,n.tDateProfile.slotDates),n.dateProfile,n.tDateProfile,o.dateEnv,o.isRtl),n.onCoords&&n.onCoords(this.coords),this.scrollResponder.update(!1)))},t.prototype.positionToHit=function(e){var n=this.coords.outerCoordCache,o=this.context,a=o.dateEnv,l=o.isRtl,c=this.props.tDateProfile,d=n.leftToIndex(e);if(null!=d){var u=n.getWidth(d),p=l?(n.rights[d]-e)/u:(e-n.lefts[d])/u,h=Math.floor(p*c.snapsPerSlot),g=a.add(c.slotDates[d],(0,i.uVS)(c.snapDuration,h));return{dateSpan:{range:{start:g,end:a.add(g,c.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[d],left:n.lefts[d],right:n.rights[d]}}return null},t}(i.H6J);function ot(r,t,e){var n=[];if(e)for(var o=0,a=r;o<a.length;o++){var l=a[o],c=e.rangeToCoords(l),d=Math.round(c.start),u=Math.round(c.end);u-d<t&&(u=d+t),n.push({start:d,end:u})}return n}var it=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props,n=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&(0,i.azq)("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(n,e.timelineCoords,"highlight"))},t.prototype.renderSegs=function(e,n,o){var a=this.props,l=a.todayRange,c=a.nowDate,d=this.context.isRtl,u=ot(e,0,n),p=e.map(function(h,g){var m=ye(u[g],d);return(0,i.azq)("div",{key:(0,i.rRV)(h.eventRange),className:"fc-timeline-bg-harness",style:m},"bg-event"===o?(0,i.azq)(i.I_K,(0,v.pi)({seg:h},(0,i.jHR)(h,l,c))):(0,i.MA3)(o))});return(0,i.azq)(i.HYg,null,p)},t}(i.H6J),at=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.sliceRange=function(e,n,o,a,l){var c=function(r,t,e){if(!t.isTimeScale&&(r=(0,i.H3H)(r),t.largeUnit)){var n=r;((r={start:e.startOf(r.start,t.largeUnit),end:e.startOf(r.end,t.largeUnit)}).end.valueOf()!==n.end.valueOf()||r.end<=r.start)&&(r={start:r.start,end:e.add(r.end,t.slotDuration)})}return r}(e,a,l),d=[];if(ve(c.start,a,l)<ve(c.end,a,l)){var u=(0,i.cMs)(c,a.normalizedRange);u&&d.push({start:u.start,end:u.end,isStart:u.start.valueOf()===c.start.valueOf()&&ie(u.start,a,n,o),isEnd:u.end.valueOf()===c.end.valueOf()&&ie((0,i.hvg)(u.end,-1),a,n,o)})}return d},t}(i.RVT),or=(0,i.SPZ)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),st=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props;return(0,i.azq)(i.h2k,(0,v.pi)({},e,{extraClassNames:["fc-timeline-event","fc-h-event"],defaultTimeFormat:or,defaultDisplayEventTime:!e.isTimeScale}))},t}(i.H6J),ir=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.rootElRef=(0,i.VfA)(),e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l=o.hiddenSegs,c=o.elRef,d=o.placement,u=o.resourceId,p=d.top,h=d.hcoords,g=h&&null!==p,f=ye(h,a.isRtl),m=u?{resourceId:u}:{};return(0,i.azq)(i.ygx,{allDayDate:null,moreCnt:l.length,allSegs:l,hiddenSegs:l,alignmentElRef:this.rootElRef,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:m,popoverContent:function(){return(0,i.azq)(i.HYg,null,l.map(function(y){var S=y.eventRange.instance.instanceId;return(0,i.azq)("div",{key:S,style:{visibility:o.isForcedInvisible[S]?"hidden":""}},(0,i.azq)(st,(0,v.pi)({isTimeScale:o.isTimeScale,seg:y,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:S===o.eventSelection},(0,i.jHR)(y,o.todayRange,o.nowDate))))}))}},function(y,S,w,x,b,D,T,E){return(0,i.azq)("a",{ref:function(A){(0,i.k$v)(y,A),(0,i.k$v)(c,A),(0,i.k$v)(e.rootElRef,A)},className:["fc-timeline-more-link"].concat(S).join(" "),style:(0,v.pi)({visibility:g?"":"hidden",top:p||0},f),onClick:b,title:D,"aria-expanded":T,"aria-controls":E},(0,i.azq)("div",{ref:w,className:"fc-timeline-more-link-inner fc-sticky"},x))})},t}(i.H6J),Ce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.slicer=new at,e.sortEventSegs=(0,i.HPs)(i.hak),e.harnessElRefs=new i.lAU,e.moreElRefs=new i.lAU,e.innerElRef=(0,i.VfA)(),e.state={eventInstanceHeights:{},moreLinkHeights:{}},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=e.props,o=e.state,a=e.context,l=a.options,c=n.dateProfile,d=n.tDateProfile,u=this.slicer.sliceProps(n,c,d.isTimeScale?null:n.nextDayThreshold,a,c,a.dateProfileGenerator,d,a.dateEnv),p=(u.eventDrag?u.eventDrag.segs:null)||(u.eventResize?u.eventResize.segs:null)||[],h=this.sortEventSegs(u.fgEventSegs,l.eventOrder),f=function(r,t,e,n,o,a){for(var l=[],c=[],d=0;d<r.length;d+=1){var u=r[d],h=e[u.eventRange.instance.instanceId],g=t[d];h&&g?l.push({index:d,span:g,thickness:h}):c.push({seg:u,hcoords:g,top:null})}var f=new i.KxW;null!=o&&(f.strictOrder=o),null!=a&&(f.maxStackCnt=a);var m=f.addSegs(l),y=m.map(function(M){return{seg:r[M.index],hcoords:M.span,top:null}}),S=(0,i.AVF)(m),w=[],x=[],b=function(M){return r[M.index]};for(d=0;d<S.length;d+=1){var D=S[d],T=D.entries.map(b);null!=(h=n[(0,i.dS)((0,i.VV4)(T))])?w.push({index:r.length+d,thickness:h,span:D.span}):x.push({seg:T,hcoords:D.span,top:null})}f.maxStackCnt=-1,f.addSegs(w);for(var A=[],k=0,R=0,P=f.toRects();R<P.length;R++){var _=P[R],I=_.index;A.push({seg:I<r.length?r[I]:S[I-r.length].entries.map(b),hcoords:_.span,top:_.levelCoord}),k=Math.max(k,_.levelCoord+_.thickness)}return[A.concat(c,y,x),k]}(h,ot(h,l.eventMinWidth,n.timelineCoords),o.eventInstanceHeights,o.moreLinkHeights,l.eventOrderStrict,l.eventMaxStack),m=f[0],y=f[1],S=(u.eventDrag?u.eventDrag.affectedInstances:null)||(u.eventResize?u.eventResize.affectedInstances:null)||{};return(0,i.azq)(i.HYg,null,(0,i.azq)(it,{businessHourSegs:u.businessHourSegs,bgEventSegs:u.bgEventSegs,timelineCoords:n.timelineCoords,eventResizeSegs:u.eventResize?u.eventResize.segs:[],dateSelectionSegs:u.dateSelectionSegs,nowDate:n.nowDate,todayRange:n.todayRange}),(0,i.azq)("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:y}},this.renderFgSegs(m,S,!1,!1,!1),this.renderFgSegs(function(r,t,e){if(!r.length||!t)return[];var n=function(r){for(var t={},e=0,n=r;e<n.length;e++){var o=n[e],a=o.seg;Array.isArray(a)||(t[a.eventRange.instance.instanceId]=o.top)}return t}(e);return r.map(function(o){return{seg:o,hcoords:t.rangeToCoords(o),top:n[o.eventRange.instance.instanceId]}})}(p,n.timelineCoords,m),{},Boolean(u.eventDrag),Boolean(u.eventResize),!1)))},t.prototype.componentDidMount=function(){this.updateSize()},t.prototype.componentDidUpdate=function(e,n){(e.eventStore!==this.props.eventStore||e.timelineCoords!==this.props.timelineCoords||n.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()},t.prototype.updateSize=function(){var e=this,n=this.props,o=n.timelineCoords;n.onHeightChange&&n.onHeightChange(this.innerElRef.current,!1),o&&this.setState({eventInstanceHeights:(0,i._aR)(this.harnessElRefs.currentMap,function(a){return Math.round(a.getBoundingClientRect().height)}),moreLinkHeights:(0,i._aR)(this.moreElRefs.currentMap,function(a){return Math.round(a.getBoundingClientRect().height)})},function(){n.onHeightChange&&n.onHeightChange(e.innerElRef.current,!0)})},t.prototype.renderFgSegs=function(e,n,o,a,l){var c=this,d=c.harnessElRefs,u=c.moreElRefs,p=c.props,h=c.context,g=o||a||l;return(0,i.azq)(i.HYg,null,e.map(function(f){var m=f.seg,y=f.hcoords,S=f.top;if(Array.isArray(m)){var w=(0,i.dS)((0,i.VV4)(m));return(0,i.azq)(ir,{key:"m:"+w,elRef:u.createRef(w),hiddenSegs:m,placement:f,dateProfile:p.dateProfile,nowDate:p.nowDate,todayRange:p.todayRange,isTimeScale:p.tDateProfile.isTimeScale,eventSelection:p.eventSelection,resourceId:p.resourceId,isForcedInvisible:n})}var x=m.eventRange.instance.instanceId,b=g||Boolean(!n[x]&&y&&null!==S),D=ye(y,h.isRtl);return(0,i.azq)("div",{key:"e:"+x,ref:g?null:d.createRef(x),className:"fc-timeline-event-harness",style:(0,v.pi)({visibility:b?"":"hidden",top:S||0},D)},(0,i.azq)(st,(0,v.pi)({isTimeScale:p.tDateProfile.isTimeScale,seg:m,isDragging:o,isResizing:a,isDateSelecting:l,isSelected:x===p.eventSelection},(0,i.jHR)(m,p.todayRange,p.nowDate))))}))},t}(i.H6J);Ce.addStateEquality({eventInstanceHeights:i.S6v,moreLinkHeights:i.S6v});var lr=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.slatsRef=(0,i.VfA)(),e.state={coords:null},e.handeEl=function(n){n?e.context.registerInteractiveComponent(e,{el:n}):e.context.unregisterInteractiveComponent(e)},e.handleCoords=function(n){e.setState({coords:n}),e.props.onSlatCoords&&e.props.onSlatCoords(n)},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=this,o=n.props,a=n.state,l=n.context,c=l.options,d=o.dateProfile,u=o.tDateProfile,p=(0,i.NTx)(u.slotDuration).unit;return(0,i.azq)("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:o.tableMinWidth,height:o.clientHeight,width:o.clientWidth}},(0,i.azq)(i.wh8,{unit:p},function(h,g){return(0,i.azq)(i.HYg,null,(0,i.azq)(rt,{ref:e.slatsRef,dateProfile:d,tDateProfile:u,nowDate:h,todayRange:g,clientWidth:o.clientWidth,tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,onCoords:e.handleCoords,onScrollLeftRequest:o.onScrollLeftRequest}),(0,i.azq)(Ce,{dateProfile:d,tDateProfile:o.tDateProfile,nowDate:h,todayRange:g,nextDayThreshold:c.nextDayThreshold,businessHours:o.businessHours,eventStore:o.eventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,timelineCoords:a.coords}),c.nowIndicator&&a.coords&&a.coords.isDateInRange(h)&&(0,i.azq)("div",{className:"fc-timeline-now-indicator-container"},(0,i.azq)(i.AOy,{isAxis:!1,date:h},function(f,m,y,S){return(0,i.azq)("div",{ref:f,className:["fc-timeline-now-indicator-line"].concat(m).join(" "),style:me(a.coords.dateToCoord(h),l.isRtl)},S)})))}))},t.prototype.queryHit=function(e,n,o,a){var c=this.slatsRef.current.positionToHit(e);return c?{dateProfile:this.props.dateProfile,dateSpan:c.dateSpan,rect:{left:c.left,right:c.right,top:0,bottom:a},dayEl:c.dayEl,layer:0}:null},t}(i.IdW),cr=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.buildTimelineDateProfile=(0,i.HPs)(Xe),e.scrollGridRef=(0,i.VfA)(),e.state={slatCoords:null,slotCushionMaxWidth:null},e.handleSlatCoords=function(n){e.setState({slatCoords:n})},e.handleScrollLeftRequest=function(n){e.scrollGridRef.current.forceScrollLeft(0,n)},e.handleMaxCushionWidth=function(n){e.setState({slotCushionMaxWidth:Math.ceil(n)})},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=this,o=n.props,a=n.state,l=n.context,c=l.options,d=!o.forPrint&&(0,i.Q8U)(c),u=!o.forPrint&&(0,i.PZw)(c),p=this.buildTimelineDateProfile(o.dateProfile,l.dateEnv,c,l.dateProfileGenerator),h=["fc-timeline",!1===c.eventOverlap?"fc-timeline-overlap-disabled":""],g=c.slotMinWidth,f=lt(p,g||this.computeFallbackSlotMinWidth(p)),m=[{type:"header",key:"header",isSticky:d,chunks:[{key:"timeline",content:function(y){return(0,i.azq)(nt,{dateProfile:o.dateProfile,clientWidth:y.clientWidth,clientHeight:y.clientHeight,tableMinWidth:y.tableMinWidth,tableColGroupNode:y.tableColGroupNode,tDateProfile:p,slatCoords:a.slatCoords,onMaxCushionWidth:g?null:e.handleMaxCushionWidth})}}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:function(y){return(0,i.azq)(lr,(0,v.pi)({},o,{clientWidth:y.clientWidth,clientHeight:y.clientHeight,tableMinWidth:y.tableMinWidth,tableColGroupNode:y.tableColGroupNode,tDateProfile:p,onSlatCoords:e.handleSlatCoords,onScrollLeftRequest:e.handleScrollLeftRequest}))}}]}];return u&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:i.Hbc}]}),(0,i.azq)(i.xS$,{viewSpec:l.viewSpec},function(y,S){return(0,i.azq)("div",{ref:y,className:h.concat(S).join(" ")},(0,i.azq)(ne,{ref:e.scrollGridRef,liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:!1,colGroups:[{cols:f}],sections:m}))})},t.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},t}(i.IdW);function lt(r,t){return[{span:r.slotCnt,minWidth:t||1}]}const ur=(0,i.rxu)({deps:[te],initialView:"timelineDay",views:{timeline:{component:cr,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});function ct(r,t){var e=r.resourceEditable;if(null==e){var n=r.sourceId&&t.getCurrentData().eventSources[r.sourceId];n&&(e=n.extendedProps.resourceEditable),null==e&&(null==(e=t.options.eventResourceEditable)&&(e=t.options.editable))}return e}var gr=function(){function r(){this.filterResources=(0,i.HPs)(vr)}return r.prototype.transform=function(t,e){return e.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(e.resourceStore,e.options.filterResourcesWithEvents,e.eventStore,e.dateProfile.activeRange),resourceEntityExpansions:e.resourceEntityExpansions}:null},r}();function vr(r,t,e,n){if(t){var a=function(r,t){var e={};for(var n in r)for(var o=r[n],a=0,l=t[o.defId].resourceIds;a<l.length;a++){e[l[a]]=!0}return e}(function(r,t){return(0,i.CrY)(r,function(e){return(0,i.zvB)(e.range,t)})}(e.instances,n),e.defs);return(0,v.pi)(a,function(r,t){var e={};for(var n in r)for(var o=void 0;(o=t[n])&&(n=o.parentId);)e[n]=!0;return e}(a,r)),(0,i.CrY)(r,function(l,c){return a[c]})}return r}var wr=function(){function r(){this.buildResourceEventUis=(0,i.HPs)(xr,i.S6v),this.injectResourceEventUis=(0,i.HPs)(Rr)}return r.prototype.transform=function(t,e){return e.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(t.eventUiBases,t.eventStore.defs,this.buildResourceEventUis(e.resourceStore))}},r}();function xr(r){return(0,i._aR)(r,function(t){return t.ui})}function Rr(r,t,e){return(0,i._aR)(r,function(n,o){return o?function(r,t,e){for(var n=[],o=0,a=t.resourceIds;o<a.length;o++){var l=a[o];e[l]&&n.unshift(e[l])}return n.unshift(r),(0,i.kLJ)(n)}(n,t[o],e):n})}var Se=[];function we(r){Se.push(r)}function dt(r){return Se[r]}var Dr={id:String,resources:i.yRu,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:i.yRu};function Er(r){var t;if("string"==typeof r?t={url:r}:"function"==typeof r||Array.isArray(r)?t={resources:r}:"object"==typeof r&&r&&(t=r),t){var e=(0,i.rjQ)(t,Dr),n=e.refined;!function(r){for(var t in r)console.warn("Unknown resource prop '"+t+"'")}(e.extra);var a=function(r){for(var t=Se,e=t.length-1;e>=0;e-=1){var o=t[e].parseMeta(r);if(o)return{meta:o,sourceDefId:e}}return null}(n);if(a)return{_raw:r,sourceId:(0,i.M8z)(),sourceDefId:a.sourceDefId,meta:a.meta,publicId:n.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function Tr(r,t,e){var n=e.options,o=e.dateProfile;if(!r||!t)return ut(n.initialResources||n.resources,o.activeRange,n.refetchResourcesOnNavigate,e);switch(t.type){case"RESET_RESOURCE_SOURCE":return ut(t.resourceSourceInput,o.activeRange,n.refetchResourcesOnNavigate,e);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return function(r,t,e,n){return!e||function(r){return Boolean(dt(r.sourceDefId).ignoreRange)}(r)||r.fetchRange&&(0,i.Dnt)(r.fetchRange,t)?r:xe(r,t,n)}(r,o.activeRange,n.refetchResourcesOnNavigate,e);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(r,t,e){return t===r.latestFetchId?(0,v.pi)((0,v.pi)({},r),{isFetching:!1,fetchRange:e}):r}(r,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return xe(r,o.activeRange,e);default:return r}}function ut(r,t,e,n){if(r){var o=Er(r);return o=xe(o,e?t:null,n)}return null}function xe(r,t,e){var n=dt(r.sourceDefId),o=(0,i.M8z)();return n.fetch({resourceSource:r,range:t,context:e},function(a){e.dispatch({type:"RECEIVE_RESOURCES",fetchId:o,fetchRange:t,rawResources:a.rawResources})},function(a){e.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:o,fetchRange:t,error:a})}),(0,v.pi)((0,v.pi)({},r),{isFetching:!0,latestFetchId:o})}var Hr={id:String,parentId:String,children:i.yRu,title:String,businessHours:i.yRu,extendedProps:i.yRu,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:i.yRu,eventOverlap:Boolean,eventAllow:i.yRu,eventClassNames:i.Qu7,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function Re(r,t,e,n){void 0===t&&(t="");var o=(0,i.rjQ)(r,Hr),a=o.refined,l=o.extra,c={id:a.id||"_fc:"+(0,i.M8z)(),parentId:a.parentId||t,title:a.title||"",businessHours:a.businessHours?(0,i.ifz)(a.businessHours,n):null,ui:(0,i.oqz)({editable:a.eventEditable,startEditable:a.eventStartEditable,durationEditable:a.eventDurationEditable,constraint:a.eventConstraint,overlap:a.eventOverlap,allow:a.eventAllow,classNames:a.eventClassNames,backgroundColor:a.eventBackgroundColor,borderColor:a.eventBorderColor,textColor:a.eventTextColor,color:a.eventColor},n),extendedProps:(0,v.pi)((0,v.pi)({},l),a.extendedProps)};if(Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),!e[c.id]&&(e[c.id]=c,a.children))for(var d=0,u=a.children;d<u.length;d++){Re(u[d],c.id,e,n)}return c}function ht(r){return 0===r.indexOf("_fc:")?"":r}function Ar(r,t,e,n){if(!r||!t)return{};switch(t.type){case"RECEIVE_RESOURCES":return function(r,t,e,n,o){if(n.latestFetchId===e){for(var a={},l=0,c=t;l<c.length;l++){Re(c[l],"",a,o)}return a}return r}(r,t.rawResources,t.fetchId,e,n);case"ADD_RESOURCE":return function(r,t){return(0,v.pi)((0,v.pi)({},r),t)}(r,t.resourceHash);case"REMOVE_RESOURCE":return function(r,t){var e=(0,v.pi)({},r);for(var n in delete e[t],e)e[n].parentId===t&&(e[n]=(0,v.pi)((0,v.pi)({},e[n]),{parentId:""}));return e}(r,t.resourceId);case"SET_RESOURCE_PROP":return function(r,t,e,n){var o,a,l=r[t];return l?(0,v.pi)((0,v.pi)({},r),((o={})[t]=(0,v.pi)((0,v.pi)({},l),((a={})[e]=n,a)),o)):r}(r,t.resourceId,t.propName,t.propValue);case"SET_RESOURCE_EXTENDED_PROP":return function(r,t,e,n){var o,a,l=r[t];return l?(0,v.pi)((0,v.pi)({},r),((o={})[t]=(0,v.pi)((0,v.pi)({},l),{extendedProps:(0,v.pi)((0,v.pi)({},l.extendedProps),(a={},a[e]=n,a))}),o)):r}(r,t.resourceId,t.propName,t.propValue);default:return r}}var Zr={resourceId:String,resourceIds:i.yRu,resourceEditable:Boolean};function jr(r){return(r||[]).map(function(t){return String(t)})}var H=function(){function r(t,e){this._context=t,this._resource=e}return r.prototype.setProp=function(t,e){var n=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:n.id,propName:t,propValue:e}),this.sync(n)},r.prototype.setExtendedProp=function(t,e){var n=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:n.id,propName:t,propValue:e}),this.sync(n)},r.prototype.sync=function(t){var e=this._context,n=t.id;this._resource=e.getCurrentData().resourceStore[n],e.emitter.trigger("resourceChange",{oldResource:new r(e,t),resource:this,revert:function(){var o;e.dispatch({type:"ADD_RESOURCE",resourceHash:(o={},o[n]=t,o)})}})},r.prototype.remove=function(){var t=this._context,e=this._resource,n=e.id;t.dispatch({type:"REMOVE_RESOURCE",resourceId:n}),t.emitter.trigger("resourceRemove",{resource:this,revert:function(){var o;t.dispatch({type:"ADD_RESOURCE",resourceHash:(o={},o[n]=e,o)})}})},r.prototype.getParent=function(){var t=this._context,e=this._resource.parentId;return e?new r(t,t.getCurrentData().resourceSource[e]):null},r.prototype.getChildren=function(){var t=this._resource.id,e=this._context,n=e.getCurrentData().resourceStore,o=[];for(var a in n)n[a].parentId===t&&o.push(new r(e,n[a]));return o},r.prototype.getEvents=function(){var t=this._resource.id,e=this._context,n=e.getCurrentData().eventStore,o=n.defs,a=n.instances,l=[];for(var c in a){var d=a[c],u=o[d.defId];-1!==u.resourceIds.indexOf(t)&&l.push(new i.voO(e,u,d))}return l},Object.defineProperty(r.prototype,"id",{get:function(){return ht(this._resource.id)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this._resource.title},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!1,configurable:!0}),r.prototype.toPlainObject=function(t){void 0===t&&(t={});var e=this._resource,n=e.ui,o=this.id,a={};return o&&(a.id=o),e.title&&(a.title=e.title),t.collapseEventColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.eventColor=n.backgroundColor:(n.backgroundColor&&(a.eventBackgroundColor=n.backgroundColor),n.borderColor&&(a.eventBorderColor=n.borderColor)),n.textColor&&(a.eventTextColor=n.textColor),n.classNames.length&&(a.eventClassNames=n.classNames),Object.keys(e.extendedProps).length&&(t.collapseExtendedProps?(0,v.pi)(a,e.extendedProps):a.extendedProps=e.extendedProps),a},r.prototype.toJSON=function(){return this.toPlainObject()},r}();i.zeW.prototype.addResource=function(r,t){var e,n=this;void 0===t&&(t=!0);var a,l,o=this.getCurrentData();r instanceof H?((e={})[(l=r._resource).id]=l,a=e):l=Re(r,"",a={},o),this.dispatch({type:"ADD_RESOURCE",resourceHash:a}),t&&this.trigger("_scrollRequest",{resourceId:l.id});var c=new H(o,l);return o.emitter.trigger("resourceAdd",{resource:c,revert:function(){n.dispatch({type:"REMOVE_RESOURCE",resourceId:l.id})}}),c},i.zeW.prototype.getResourceById=function(r){r=String(r);var t=this.getCurrentData();if(t.resourceStore){var e=t.resourceStore[r];if(e)return new H(t,e)}return null},i.zeW.prototype.getResources=function(){var r=this.getCurrentData(),t=r.resourceStore,e=[];if(t)for(var n in t)e.push(new H(r,t[n]));return e},i.zeW.prototype.getTopLevelResources=function(){var r=this.getCurrentData(),t=r.resourceStore,e=[];if(t)for(var n in t)t[n].parentId||e.push(new H(r,t[n]));return e},i.zeW.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var ft=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.getKeyInfo=function(e){return(0,v.pi)({"":{}},e.resourceStore)},t.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},t.prototype.getKeysForEventDef=function(e){var n=e.resourceIds;return n.length?n:[""]},t}(i.qX1);function Qr(r,t){return(0,v.pi)((0,v.pi)({},t),{constraints:Xr(r,t.constraints)})}function Xr(r,t){return t.map(function(e){var n=e.defs;if(n)for(var o in n){var a=n[o].resourceIds;if(a.length&&-1===a.indexOf(r))return!1}return e})}i.voO.prototype.getResources=function(){var r=this._context.calendarApi;return this._def.resourceIds.map(function(t){return r.getResourceById(t)})},i.voO.prototype.setResources=function(r){for(var t=[],e=0,n=r;e<n.length;e++){var o=n[e],a=null;"string"==typeof o?a=o:"number"==typeof o?a=String(o):o instanceof H?a=o.id:console.warn("unknown resource type: "+o),a&&t.push(a)}this.mutate({standardProps:{resourceIds:t}})};var eo={resources:function(r,t){t.getCurrentData().resourceSource._raw!==r&&t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:r})}};var no=(0,i.MCs)("id,title");var oo={initialResources:i.yRu,resources:i.yRu,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:i.MCs,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:i.yRu,resourceAreaColumns:i.yRu,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:i.yRu,resourceAreaHeaderContent:i.yRu,resourceAreaHeaderDidMount:i.yRu,resourceAreaHeaderWillUnmount:i.yRu,resourceGroupLabelClassNames:i.yRu,resourceGroupLabelContent:i.yRu,resourceGroupLabelDidMount:i.yRu,resourceGroupLabelWillUnmount:i.yRu,resourceLabelClassNames:i.yRu,resourceLabelContent:i.yRu,resourceLabelDidMount:i.yRu,resourceLabelWillUnmount:i.yRu,resourceLaneClassNames:i.yRu,resourceLaneContent:i.yRu,resourceLaneDidMount:i.yRu,resourceLaneWillUnmount:i.yRu,resourceGroupLaneClassNames:i.yRu,resourceGroupLaneContent:i.yRu,resourceGroupLaneDidMount:i.yRu,resourceGroupLaneWillUnmount:i.yRu},io={resourcesSet:i.yRu,resourceAdd:i.yRu,resourceChange:i.yRu,resourceRemove:i.yRu};function so(r){return(0,i.azq)(i.Yh$.Consumer,null,function(t){var e=t.options,n={resource:new H(t,r.resource),date:r.date?t.dateEnv.toDate(r.date):null,view:t.viewApi},o={"data-resource-id":r.resource.id,"data-date":r.date?(0,i.SVl)(r.date):void 0};return(0,i.azq)(i.QJ3,{hookProps:n,classNames:e.resourceLabelClassNames,content:e.resourceLabelContent,defaultContent:lo,didMount:e.resourceLabelDidMount,willUnmount:e.resourceLabelWillUnmount},function(a,l,c,d){return r.children(a,l,o,c,d)})})}function lo(r){return r.resource.title||r.resource.id}we({ignoreRange:!0,parseMeta:function(r){return Array.isArray(r.resources)?r.resources:null},fetch:function(r,t){t({rawResources:r.resourceSource.meta})}}),we({parseMeta:function(r){return"function"==typeof r.resources?r.resources:null},fetch:function(r,t,e){var n=r.context.dateEnv,o=r.resourceSource.meta,a=r.range?{start:n.toDate(r.range.start),end:n.toDate(r.range.end),startStr:n.formatIso(r.range.start),endStr:n.formatIso(r.range.end),timeZone:n.timeZone}:{};(0,i.Olf)(o.bind(null,a),function(l){t({rawResources:l})},e)}}),we({parseMeta:function(r){return r.url?{url:r.url,method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams}:null},fetch:function(r,t,e){var n=r.resourceSource.meta,o=function(r,t,e){var a,l,c,d,n=e.dateEnv,o=e.options,u={};return t&&(null==(a=r.startParam)&&(a=o.startParam),null==(l=r.endParam)&&(l=o.endParam),null==(c=r.timeZoneParam)&&(c=o.timeZoneParam),u[a]=n.formatIso(t.start),u[l]=n.formatIso(t.end),"local"!==n.timeZone&&(u[c]=n.timeZone)),d="function"==typeof r.extraParams?r.extraParams():r.extraParams||{},(0,v.pi)(u,d),u}(n,r.range,r.context);(0,i.aAC)(n.method,n.url,o,function(a,l){t({rawResources:a,xhr:l})},function(a,l){e({message:a,xhr:l})})}});var be=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props;return(0,i.azq)(so,{resource:e.resource,date:e.date},function(n,o,a,l,c){return(0,i.azq)("th",(0,v.pi)({ref:n,role:"columnheader",className:["fc-col-header-cell","fc-resource"].concat(o).join(" "),colSpan:e.colSpan},a),(0,i.azq)("div",{className:"fc-scrollgrid-sync-inner"},(0,i.azq)("span",{className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:l},c)))})},t}(i.H6J);!function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.buildDateFormat=(0,i.HPs)(co),e}(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l=this.buildDateFormat(a.options.dayHeaderFormat,o.datesRepDistinctDays,o.dates.length);return(0,i.azq)(i.wh8,{unit:"day"},function(c,d){return 1===o.dates.length?e.renderResourceRow(o.resources,o.dates[0]):a.options.datesAboveResources?e.renderDayAndResourceRows(o.dates,l,d,o.resources):e.renderResourceAndDayRows(o.resources,o.dates,l,d)})},t.prototype.renderResourceRow=function(e,n){var o=e.map(function(a){return(0,i.azq)(be,{key:a.id,resource:a,colSpan:1,date:n})});return this.buildTr(o,"resources")},t.prototype.renderDayAndResourceRows=function(e,n,o,a){for(var l=[],c=[],d=0,u=e;d<u.length;d++){var p=u[d];l.push(this.renderDateCell(p,n,o,a.length,null,!0));for(var h=0,g=a;h<g.length;h++){var f=g[h];c.push((0,i.azq)(be,{key:f.id+":"+p.toISOString(),resource:f,colSpan:1,date:p}))}}return(0,i.azq)(i.HYg,null,this.buildTr(l,"day"),this.buildTr(c,"resources"))},t.prototype.renderResourceAndDayRows=function(e,n,o,a){for(var l=[],c=[],d=0,u=e;d<u.length;d++){var p=u[d];l.push((0,i.azq)(be,{key:p.id,resource:p,colSpan:n.length,isSticky:!0}));for(var h=0,g=n;h<g.length;h++){var f=g[h];c.push(this.renderDateCell(f,o,a,1,p))}}return(0,i.azq)(i.HYg,null,this.buildTr(l,"resources"),this.buildTr(c,"day"))},t.prototype.renderDateCell=function(e,n,o,a,l,c){var d=this.props,u=l?":"+l.id:"",p=l?{resource:new H(this.context,l)}:{},h=l?{"data-resource-id":l.id}:{};return d.datesRepDistinctDays?(0,i.azq)(i.nWf,{key:e.toISOString()+u,date:e,dateProfile:d.dateProfile,todayRange:o,colCnt:d.dates.length*d.resources.length,dayHeaderFormat:n,colSpan:a,isSticky:c,extraHookProps:p,extraDataAttrs:h}):(0,i.azq)(i.Ceh,{key:e.getUTCDay()+u,dow:e.getUTCDay(),dayHeaderFormat:n,colSpan:a,isSticky:c,extraHookProps:p,extraDataAttrs:h})},t.prototype.buildTr=function(e,n){var o=this.props.renderIntro;return e.length||(e=[(0,i.azq)("td",{key:0},"\xa0")]),(0,i.azq)("tr",{key:n,role:"row"},o&&o(n),e)}}(i.H6J);function co(r,t,e){return r||(0,i.nm6)(t,e)}var uo=function(t){for(var e={},n=[],o=0;o<t.length;o+=1){var a=t[o].id;n.push(a),e[a]=o}this.ids=n,this.indicesById=e,this.length=t.length},gt=function(){function r(t,e,n){this.dayTableModel=t,this.resources=e,this.context=n,this.resourceIndex=new uo(e),this.rowCnt=t.rowCnt,this.colCnt=t.colCnt*e.length,this.cells=this.buildCells()}return r.prototype.buildCells=function(){for(var t=this,e=t.rowCnt,n=t.dayTableModel,o=t.resources,a=[],l=0;l<e;l+=1){for(var c=[],d=0;d<n.colCnt;d+=1)for(var u=0;u<o.length;u+=1){var p=o[u],h={resource:new H(this.context,p)},g={"data-resource-id":p.id},m={resourceId:p.id},y=n.cells[l][d].date;c[this.computeCol(d,u)]={key:p.id+":"+y.toISOString(),date:y,extraHookProps:h,extraDataAttrs:g,extraClassNames:["fc-resource"],extraDateSpan:m}}a.push(c)}return a},r}(),vt=(function(r){function t(){return null!==r&&r.apply(this,arguments)||this}(0,v.ZT)(t,r),t.prototype.computeCol=function(e,n){return n*this.dayTableModel.colCnt+e},t.prototype.computeColRanges=function(e,n,o){return[{firstCol:this.computeCol(e,o),lastCol:this.computeCol(n,o),isStart:!0,isEnd:!0}]}}(gt),function(r){function t(){return null!==r&&r.apply(this,arguments)||this}(0,v.ZT)(t,r),t.prototype.computeCol=function(e,n){return e*this.resources.length+n},t.prototype.computeColRanges=function(e,n,o){for(var a=[],l=e;l<=n;l+=1){var c=this.computeCol(l,o);a.push({firstCol:c,lastCol:c,isStart:l===e,isEnd:l===n})}return a}}(gt),[]);(function(){function r(){this.joinDateSelection=(0,i.HPs)(this.joinSegs),this.joinBusinessHours=(0,i.HPs)(this.joinSegs),this.joinFgEvents=(0,i.HPs)(this.joinSegs),this.joinBgEvents=(0,i.HPs)(this.joinSegs),this.joinEventDrags=(0,i.HPs)(this.joinInteractions),this.joinEventResizes=(0,i.HPs)(this.joinInteractions)}r.prototype.joinProps=function(t,e){for(var n=[],o=[],a=[],l=[],c=[],d=[],u="",h=0,g=e.resourceIndex.ids.concat([""]);h<g.length;h++){var f=g[h],m=t[f];n.push(m.dateSelectionSegs),o.push(f?m.businessHourSegs:vt),a.push(f?m.fgEventSegs:vt),l.push(m.bgEventSegs),c.push(m.eventDrag),d.push(m.eventResize),u=u||m.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,(0,v.ev)([e],n)),businessHourSegs:this.joinBusinessHours.apply(this,(0,v.ev)([e],o)),fgEventSegs:this.joinFgEvents.apply(this,(0,v.ev)([e],a)),bgEventSegs:this.joinBgEvents.apply(this,(0,v.ev)([e],l)),eventDrag:this.joinEventDrags.apply(this,(0,v.ev)([e],c)),eventResize:this.joinEventResizes.apply(this,(0,v.ev)([e],d)),eventSelection:u}},r.prototype.joinSegs=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=t.resources.length,a=[],l=0;l<o;l+=1){for(var c=0,d=e[l];c<d.length;c++){var u=d[c];a.push.apply(a,this.transformSeg(u,t,l))}for(var p=0,h=e[o];p<h.length;p++){u=h[p];a.push.apply(a,this.transformSeg(u,t,l))}}return a},r.prototype.expandSegs=function(t,e){for(var n=t.resources.length,o=[],a=0;a<n;a+=1)for(var l=0,c=e;l<c.length;l++){var d=c[l];o.push.apply(o,this.transformSeg(d,t,a))}return o},r.prototype.joinInteractions=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=t.resources.length,a={},l=[],c=!1,d=!1,u=0;u<o;u+=1){var p=e[u];if(p){c=!0;for(var h=0,g=p.segs;h<g.length;h++){var f=g[h];l.push.apply(l,this.transformSeg(f,t,u))}(0,v.pi)(a,p.affectedInstances),d=d||p.isEvent}if(e[o])for(var m=0,y=e[o].segs;m<y.length;m++){f=y[m];l.push.apply(l,this.transformSeg(f,t,u))}}return c?{affectedInstances:a,segs:l,isEvent:d}:null}})(),function(r){function t(){return null!==r&&r.apply(this,arguments)||this}(0,v.ZT)(t,r),t.prototype.getKeyInfo=function(e){var n=e.resourceDayTableModel,o=(0,i._aR)(n.resourceIndex.indicesById,function(a){return n.resources[a]});return o[""]={},o},t.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},t.prototype.getKeysForEventDef=function(e){var n=e.resourceIds;return n.length?n:[""]}}(i.qX1);function mt(r,t,e,n,o,a){var l=function(r,t,e,n){var o=function(r,t){var e={};for(var n in r){var o=r[n];e[n]={resource:o,resourceFields:St(o),children:[]}}for(var n in r){if((o=r[n]).parentId){var a=e[o.parentId];a&&Ct(e[n],a.children,t)}}return e}(r,n),a=[];for(var l in o){var c=o[l];c.resource.parentId||yt(c,a,e,0,t,n)}return a}(r,n?-1:1,t,e),c=[];return ae(l,c,n,[],0,o,a),c}function ae(r,t,e,n,o,a,l){for(var c=0;c<r.length;c+=1){var d=r[c],u=d.group;if(u)if(e){var p=t.length,h=n.length;if(ae(d.children,t,e,n.concat(0),o,a,l),p<t.length){var g=t[p];(g.rowSpans=g.rowSpans.slice())[h]=t.length-p}}else{var y=null!=a[m=u.spec.field+":"+u.value]?a[m]:l;t.push({id:m,group:u,isExpanded:y}),y&&ae(d.children,t,e,n,o+1,a,l)}else if(d.resource){var m;y=null!=a[m=d.resource.id]?a[m]:l;t.push({id:m,rowSpans:n,depth:o,isExpanded:y,hasChildren:Boolean(d.children.length),resource:d.resource,resourceFields:d.resourceFields}),y&&ae(d.children,t,e,n,o+1,a,l)}}}function yt(r,t,e,n,o,a){e.length&&(-1===o||n<=o)?yt(r,function(r,t,e){var o,a,n=r.resourceFields[e.field];if(e.order)for(a=0;a<t.length;a+=1){if((l=t[a]).group){var c=(0,i.dx1)(n,l.group.value)*e.order;if(0===c){o=l;break}if(c<0)break}}else for(a=0;a<t.length;a+=1){var l;if((l=t[a]).group&&n===l.group.value){o=l;break}}return o||(o={group:{value:n,spec:e},children:[]},t.splice(a,0,o)),o}(r,t,e[0]).children,e.slice(1),n+1,o,a):Ct(r,t,a)}function Ct(r,t,e){var n;for(n=0;n<t.length;n+=1){if((0,i.oMu)(t[n].resourceFields,r.resourceFields,e)>0)break}t.splice(n,0,r)}function St(r){var t=(0,v.pi)((0,v.pi)((0,v.pi)({},r.extendedProps),r.ui),r);return delete t.ui,delete t.extendedProps,t}const mo=(0,i.rxu)({deps:[te],reducers:[function(r,t,e){var n=Tr(r&&r.resourceSource,t,e);return{resourceSource:n,resourceStore:Ar(r&&r.resourceStore,t,n,e),resourceEntityExpansions:function(r,t){var e;if(!r||!t)return{};switch(t.type){case"SET_RESOURCE_ENTITY_EXPANDED":return(0,v.pi)((0,v.pi)({},r),((e={})[t.id]=t.isExpanded,e));default:return r}}(r&&r.resourceEntityExpansions,t)}}],isLoadingFuncs:[function(r){return r.resourceSource&&r.resourceSource.isFetching}],eventRefiners:Zr,eventDefMemberAdders:[function(r){return{resourceIds:jr(r.resourceIds).concat(r.resourceId?[r.resourceId]:[]),resourceEditable:r.resourceEditable}}],isDraggableTransformers:[function(r,t,e,n){if(!r){var o=n.getCurrentData();if(o.viewSpecs[o.currentViewType].optionDefaults.needsResourceData&&ct(t,n))return!0}return r}],eventDragMutationMassagers:[function(r,t,e){var n=t.dateSpan.resourceId,o=e.dateSpan.resourceId;n&&o&&n!==o&&(r.resourceMutation={matchResourceId:n,setResourceId:o})}],eventDefMutationAppliers:[function(r,t,e){var n=t.resourceMutation;if(n&&ct(r,e)){var o=r.resourceIds.indexOf(n.matchResourceId);if(-1!==o){var a=r.resourceIds.slice();a.splice(o,1),-1===a.indexOf(n.setResourceId)&&a.push(n.setResourceId),r.resourceIds=a}}}],dateSelectionTransformers:[function(r,t){var e=r.dateSpan.resourceId,n=t.dateSpan.resourceId;return e&&n?{resourceId:e}:null}],datePointTransforms:[function(r,t){return r.resourceId?{resource:t.calendarApi.getResourceById(r.resourceId)}:{}}],dateSpanTransforms:[function(r,t){return r.resourceId?{resource:t.calendarApi.getResourceById(r.resourceId)}:{}}],viewPropsTransformers:[gr,wr],isPropsValid:function(r,t){var n=(new ft).splitProps((0,v.pi)((0,v.pi)({},r),{resourceStore:t.getCurrentData().resourceStore}));for(var o in n){var a=n[o];if(o&&n[""]&&(a=(0,v.pi)((0,v.pi)({},a),{eventStore:(0,i.rOY)(n[""].eventStore,a.eventStore),eventUiBases:(0,v.pi)((0,v.pi)({},n[""].eventUiBases),a.eventUiBases)})),!(0,i.yw$)(a,t,{resourceId:o},Qr.bind(null,o)))return!1}return!0},externalDefTransforms:[function(r){return r.resourceId?{resourceId:r.resourceId}:{}}],eventDropTransformers:[function(r,t){var e=r.resourceMutation;if(e){var n=t.calendarApi;return{oldResource:n.getResourceById(e.matchResourceId),newResource:n.getResourceById(e.setResourceId)}}return{oldResource:null,newResource:null}}],optionChangeHandlers:eo,optionRefiners:oo,listenerRefiners:io,propSetHandlers:{resourceStore:function(r,t){var e=t.emitter;e.hasHandlers("resourcesSet")&&e.trigger("resourcesSet",function(r,t){var e=[];for(var n in r)e.push(new H(t,r[n]));return e}(r,t))}}});function wt(r){for(var t=r.depth,e=r.hasChildren,n=r.isExpanded,o=r.onExpanderClick,a=[],l=0;l<t;l+=1)a.push((0,i.azq)("span",{className:"fc-icon"}));var c=["fc-icon"];return e&&(n?c.push("fc-icon-minus-square"):c.push("fc-icon-plus-square")),a.push((0,i.azq)("span",{className:"fc-datagrid-expander"+(e?"":" fc-datagrid-expander-placeholder"),onClick:o},(0,i.azq)("span",{className:c.join(" ")}))),i.azq.apply(void 0,(0,v.ev)([i.HYg,{}],a))}function yo(r){return{resource:new H(r.context,r.resource),fieldValue:r.fieldValue,view:r.context.viewApi}}var Co=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props;return(0,i.azq)(i.rVp,{hookProps:e.hookProps,content:e.colSpec.cellContent,defaultContent:So},function(n,o){return(0,i.azq)("span",{className:"fc-datagrid-cell-main",ref:n},o)})},t}(i.H6J);function So(r){return r.fieldValue||(0,i.azq)(i.HYg,null,"\xa0")}var wo=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.refineHookProps=(0,i.Vbb)(yo),e.normalizeClassNames=(0,i.HgS)(),e.onExpanderClick=function(n){var o=e.props;o.hasChildren&&e.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:o.resource.id,isExpanded:!o.isExpanded})},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l=o.colSpec,c=this.refineHookProps({resource:o.resource,fieldValue:o.fieldValue,context:a}),d=this.normalizeClassNames(l.cellClassNames,c);return(0,i.azq)(i.y3w,{hookProps:c,didMount:l.cellDidMount,willUnmount:l.cellWillUnmount},function(u){return(0,i.azq)("td",{ref:u,role:"gridcell","data-resource-id":o.resource.id,className:["fc-datagrid-cell","fc-resource"].concat(d).join(" ")},(0,i.azq)("div",{className:"fc-datagrid-cell-frame",style:{height:o.innerHeight}},(0,i.azq)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},l.isMain&&(0,i.azq)(wt,{depth:o.depth,hasChildren:o.hasChildren,isExpanded:o.isExpanded,onExpanderClick:e.onExpanderClick}),(0,i.azq)(Co,{hookProps:c,colSpec:l}))))})},t}(i.H6J),xo=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context,a=n.colSpec,l={groupValue:n.fieldValue,view:o.viewApi};return(0,i.azq)(i.QJ3,{hookProps:l,classNames:a.cellClassNames,content:a.cellContent,defaultContent:Ro,didMount:a.cellDidMount,willUnmount:a.cellWillUnmount},function(c,d,u,p){return(0,i.azq)("td",{ref:c,role:"gridcell",rowSpan:n.rowSpan,className:["fc-datagrid-cell","fc-resource-group"].concat(d).join(" ")},(0,i.azq)("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},(0,i.azq)("div",{className:"fc-datagrid-cell-cushion fc-sticky",ref:u},p)))})},t}(i.H6J);function Ro(r){return r.groupValue||(0,i.azq)(i.HYg,null,"\xa0")}var xt=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this.props,n=e.resource,o=e.rowSpans,a=e.depth,l=St(n);return(0,i.azq)("tr",{role:"row"},e.colSpecs.map(function(c,d){var u=o[d];if(0===u)return null;null==u&&(u=1);var p=c.field?l[c.field]:n.title||ht(n.id);return u>1?(0,i.azq)(xo,{key:d,colSpec:c,fieldValue:p,rowSpan:u}):(0,i.azq)(wo,{key:d,colSpec:c,resource:n,fieldValue:p,depth:a,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})}))},t}(i.H6J);xt.addPropsEquality({rowSpans:i.CnA});var Rt=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.innerInnerRef=(0,i.VfA)(),e.onExpanderClick=function(){var n=e.props;e.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:n.id,isExpanded:!n.isExpanded})},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l={groupValue:o.group.value,view:a.viewApi},c=o.group.spec;return(0,i.azq)("tr",{role:"row"},(0,i.azq)(i.QJ3,{hookProps:l,classNames:c.labelClassNames,content:c.labelContent,defaultContent:bo,didMount:c.labelDidMount,willUnmount:c.labelWillUnmount},function(d,u,p,h){return(0,i.azq)("th",{ref:d,role:"columnheader",scope:"colgroup",colSpan:o.spreadsheetColCnt,className:["fc-datagrid-cell","fc-resource-group",a.theme.getClass("tableCellShaded")].concat(u).join(" ")},(0,i.azq)("div",{className:"fc-datagrid-cell-frame",style:{height:o.innerHeight}},(0,i.azq)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:e.innerInnerRef},(0,i.azq)(wt,{depth:0,hasChildren:!0,isExpanded:o.isExpanded,onExpanderClick:e.onExpanderClick}),(0,i.azq)("span",{className:"fc-datagrid-cell-main",ref:p},h))))}))},t}(i.H6J);function bo(r){return r.groupValue||(0,i.azq)(i.HYg,null,"\xa0")}Rt.addPropsEquality({group:function(r,t){return r.spec===t.spec&&r.value===t.value}});var Do=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.resizerElRefs=new i.lAU(e._handleColResizerEl.bind(e)),e.colDraggings={},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=this.props,o=n.colSpecs,a=n.superHeaderRendering,l=n.rowInnerHeights,c={view:this.context.viewApi},d=[];if(l=l.slice(),a){var u=l.shift();d.push((0,i.azq)("tr",{key:"row-super",role:"row"},(0,i.azq)(i.QJ3,{hookProps:c,classNames:a.headerClassNames,content:a.headerContent,didMount:a.headerDidMount,willUnmount:a.headerWillUnmount},function(h,g,f,m){return(0,i.azq)("th",{ref:h,role:"columnheader",scope:"colgroup",colSpan:o.length,className:["fc-datagrid-cell","fc-datagrid-cell-super"].concat(g).join(" ")},(0,i.azq)("div",{className:"fc-datagrid-cell-frame",style:{height:u}},(0,i.azq)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:f},m)))})))}var p=l.shift();return d.push((0,i.azq)("tr",{key:"row",role:"row"},o.map(function(h,g){var f=g===o.length-1;return(0,i.azq)(i.QJ3,{key:g,hookProps:c,classNames:h.headerClassNames,content:h.headerContent,didMount:h.headerDidMount,willUnmount:h.headerWillUnmount},function(m,y,S,w){return(0,i.azq)("th",{ref:m,role:"columnheader",className:["fc-datagrid-cell"].concat(y).join(" ")},(0,i.azq)("div",{className:"fc-datagrid-cell-frame",style:{height:p}},(0,i.azq)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},h.isMain&&(0,i.azq)("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},(0,i.azq)("span",{className:"fc-icon"})),(0,i.azq)("span",{className:"fc-datagrid-cell-main",ref:S},w)),!f&&(0,i.azq)("div",{className:"fc-datagrid-cell-resizer",ref:e.resizerElRefs.createRef(g)})))})}))),(0,i.azq)(i.HYg,null,d)},t.prototype._handleColResizerEl=function(e,n){var a,o=this.colDraggings;e?(a=this.initColResizing(e,parseInt(n,10)))&&(o[n]=a):(a=o[n])&&(a.destroy(),delete o[n])},t.prototype.initColResizing=function(e,n){var o=this.context,a=o.pluginHooks,l=o.isRtl,c=this.props.onColWidthChange,d=a.elementDraggingImpl;if(d){var p,h,u=new d(e);return u.emitter.on("dragstart",function(){var g=(0,i.xlG)((0,i.x_n)(e,"tr"),"th");h=g.map(function(f){return f.getBoundingClientRect().width}),p=h[n]}),u.emitter.on("dragmove",function(g){h[n]=Math.max(p+g.deltaX*(l?-1:1),20),c&&c(h.slice())}),u.setAutoScrollEnabled(!1),u}return null},t}(i.H6J),Eo=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context,a={resource:new H(o,n.resource)};return(0,i.azq)(i.rVp,{hookProps:a,content:o.options.resourceLaneContent},function(l,c){return c&&(0,i.azq)("div",{className:"fc-timeline-lane-misc",ref:l},c)})},t}(i.H6J),Po=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.refineHookProps=(0,i.Vbb)(_o),e.normalizeClassNames=(0,i.HgS)(),e.handleHeightChange=function(n,o){e.props.onHeightChange&&e.props.onHeightChange((0,i.x_n)(n,"tr"),o)},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,o=this.props,a=this.context,l=a.options,c=this.refineHookProps({resource:o.resource,context:a}),d=this.normalizeClassNames(l.resourceLaneClassNames,c);return(0,i.azq)("tr",{ref:o.elRef},(0,i.azq)(i.y3w,{hookProps:c,didMount:l.resourceLaneDidMount,willUnmount:l.resourceLaneWillUnmount},function(u){return(0,i.azq)("td",{ref:u,className:["fc-timeline-lane","fc-resource"].concat(d).join(" "),"data-resource-id":o.resource.id},(0,i.azq)("div",{className:"fc-timeline-lane-frame",style:{height:o.innerHeight}},(0,i.azq)(Eo,{resource:o.resource}),(0,i.azq)(Ce,{dateProfile:o.dateProfile,tDateProfile:o.tDateProfile,nowDate:o.nowDate,todayRange:o.todayRange,nextDayThreshold:o.nextDayThreshold,businessHours:o.businessHours,eventStore:o.eventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,timelineCoords:o.timelineCoords,onHeightChange:e.handleHeightChange,resourceId:o.resource.id})))}))},t}(i.H6J);function _o(r){return{resource:new H(r.context,r.resource)}}var To=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=this.props,o=this.props.renderingHooks,a={groupValue:n.groupValue,view:this.context.viewApi};return(0,i.azq)("tr",{ref:n.elRef},(0,i.azq)(i.QJ3,{hookProps:a,classNames:o.laneClassNames,content:o.laneContent,didMount:o.laneDidMount,willUnmount:o.laneWillUnmount},function(l,c,d,u){return(0,i.azq)("td",{ref:l,className:["fc-timeline-lane","fc-resource-group",e.context.theme.getClass("tableCellShaded")].concat(c).join(" ")},(0,i.azq)("div",{style:{height:n.innerHeight},ref:d},u))}))},t}(i.H6J),Io=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context,a=n.rowElRefs,l=n.innerHeights;return(0,i.azq)("tbody",null,n.rowNodes.map(function(c,d){if(c.group)return(0,i.azq)(To,{key:c.id,elRef:a.createRef(c.id),groupValue:c.group.value,renderingHooks:c.group.spec,innerHeight:l[d]||""});if(c.resource){var u=c.resource;return(0,i.azq)(Po,(0,v.pi)({key:c.id,elRef:a.createRef(c.id)},n.splitProps[u.id],{resource:u,dateProfile:n.dateProfile,tDateProfile:n.tDateProfile,nowDate:n.nowDate,todayRange:n.todayRange,nextDayThreshold:o.options.nextDayThreshold,businessHours:u.businessHours||n.fallbackBusinessHours,innerHeight:l[d]||"",timelineCoords:n.slatCoords,onHeightChange:n.onRowHeightChange}))}return null}))},t}(i.H6J),Mo=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.rootElRef=(0,i.VfA)(),e.rowElRefs=new i.lAU,e}return(0,v.ZT)(t,r),t.prototype.render=function(){var n=this.props,o=this.context;return(0,i.azq)("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+o.theme.getClass("table"),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:n.minHeight}},(0,i.azq)(Io,{rowElRefs:this.rowElRefs,rowNodes:n.rowNodes,dateProfile:n.dateProfile,tDateProfile:n.tDateProfile,nowDate:n.nowDate,todayRange:n.todayRange,splitProps:n.splitProps,fallbackBusinessHours:n.fallbackBusinessHours,slatCoords:n.slatCoords,innerHeights:n.innerHeights,onRowHeightChange:n.onRowHeightChange}))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.componentWillUnmount=function(){this.props.onRowCoords&&this.props.onRowCoords(null)},t.prototype.updateCoords=function(){var e=this.props;e.onRowCoords&&null!==e.clientWidth&&this.props.onRowCoords(new i.zIV(this.rootElRef.current,function(r,t){return t.map(function(e){return r[e.id]})}(this.rowElRefs.currentMap,e.rowNodes),!1,!0))},t}(i.H6J);var Ho=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.computeHasResourceBusinessHours=(0,i.HPs)(Ao),e.resourceSplitter=new ft,e.bgSlicer=new at,e.slatsRef=(0,i.VfA)(),e.state={slatCoords:null},e.handleEl=function(n){n?e.context.registerInteractiveComponent(e,{el:n}):e.context.unregisterInteractiveComponent(e)},e.handleSlatCoords=function(n){e.setState({slatCoords:n}),e.props.onSlatCoords&&e.props.onSlatCoords(n)},e.handleRowCoords=function(n){e.rowCoords=n,e.props.onRowCoords&&e.props.onRowCoords(n)},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=this,o=n.props,a=n.state,l=n.context,c=o.dateProfile,d=o.tDateProfile,u=(0,i.NTx)(d.slotDuration).unit,p=this.computeHasResourceBusinessHours(o.rowNodes),h=this.resourceSplitter.splitProps(o),g=h[""],f=this.bgSlicer.sliceProps(g,c,d.isTimeScale?null:o.nextDayThreshold,l,c,l.dateProfileGenerator,d,l.dateEnv),m=a.slatCoords&&a.slatCoords.dateProfile===o.dateProfile?a.slatCoords:null;return(0,i.azq)("div",{ref:this.handleEl,className:["fc-timeline-body",o.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:o.tableMinWidth}},(0,i.azq)(i.wh8,{unit:u},function(y,S){return(0,i.azq)(i.HYg,null,(0,i.azq)(rt,{ref:e.slatsRef,dateProfile:c,tDateProfile:d,nowDate:y,todayRange:S,clientWidth:o.clientWidth,tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,onCoords:e.handleSlatCoords,onScrollLeftRequest:o.onScrollLeftRequest}),(0,i.azq)(it,{businessHourSegs:p?null:f.businessHourSegs,bgEventSegs:f.bgEventSegs,timelineCoords:m,eventResizeSegs:f.eventResize?f.eventResize.segs:[],dateSelectionSegs:f.dateSelectionSegs,nowDate:y,todayRange:S}),(0,i.azq)(Mo,{rowNodes:o.rowNodes,dateProfile:c,tDateProfile:o.tDateProfile,nowDate:y,todayRange:S,splitProps:h,fallbackBusinessHours:p?o.businessHours:null,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,innerHeights:o.rowInnerHeights,slatCoords:m,onRowCoords:e.handleRowCoords,onRowHeightChange:o.onRowHeightChange}),l.options.nowIndicator&&m&&m.isDateInRange(y)&&(0,i.azq)("div",{className:"fc-timeline-now-indicator-container"},(0,i.azq)(i.AOy,{isAxis:!1,date:y},function(w,x,b,D){return(0,i.azq)("div",{ref:w,className:["fc-timeline-now-indicator-line"].concat(x).join(" "),style:me(m.dateToCoord(y),l.isRtl)},D)})))}))},t.prototype.queryHit=function(e,n){var o=this.rowCoords,a=o.topToIndex(n);if(null!=a){var l=this.props.rowNodes[a].resource;if(l){var c=this.slatsRef.current.positionToHit(e);if(c)return{dateProfile:this.props.dateProfile,dateSpan:{range:c.dateSpan.range,allDay:c.dateSpan.allDay,resourceId:l.id},rect:{left:c.left,right:c.right,top:o.tops[a],bottom:o.bottoms[a]},dayEl:c.dayEl,layer:0}}}return null},t}(i.IdW);function Ao(r){for(var t=0,e=r;t<e.length;t++){var o=e[t].resource;if(o&&o.businessHours)return!0}return!1}var Oo=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.scrollGridRef=(0,i.VfA)(),e.timeBodyScrollerElRef=(0,i.VfA)(),e.spreadsheetHeaderChunkElRef=(0,i.VfA)(),e.rootElRef=(0,i.VfA)(),e.ensureScrollGridResizeId=0,e.state={resourceAreaWidthOverride:null},e.ensureScrollGridResize=function(){e.ensureScrollGridResizeId&&clearTimeout(e.ensureScrollGridResizeId),e.ensureScrollGridResizeId=setTimeout(function(){e.scrollGridRef.current.handleSizing(!1)},i.vc.SCROLLGRID_RESIZE_INTERVAL+1)},e}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=e.props,o=e.state,a=e.context,l=a.options,c=!n.forPrint&&(0,i.Q8U)(l),d=!n.forPrint&&(0,i.PZw)(l),u=[{type:"header",key:"header",syncRowHeights:!0,isSticky:c,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:n.spreadsheetHeaderRows},{key:"divider",outerContent:(0,i.azq)("td",{role:"presentation",className:"fc-resource-timeline-divider "+a.theme.getClass("tableCellShaded")})},{key:"timeline",content:n.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(l.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:n.spreadsheetBodyRows},{key:"divider",outerContent:(0,i.azq)("td",{role:"presentation",className:"fc-resource-timeline-divider "+a.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:n.timeBodyContent}]}];d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:i.Hbc},{key:"divider",outerContent:(0,i.azq)("td",{role:"presentation",className:"fc-resource-timeline-divider "+a.theme.getClass("tableCellShaded")})},{key:"timeline",content:i.Hbc}]});var p=null!=o.resourceAreaWidthOverride?o.resourceAreaWidthOverride:l.resourceAreaWidth;return(0,i.azq)(ne,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:!1,colGroups:[{cols:n.spreadsheetCols,width:p},{cols:[]},{cols:n.timeCols}],sections:u})},t.prototype.forceTimeScroll=function(e){this.scrollGridRef.current.forceScrollLeft(2,e)},t.prototype.forceResourceScroll=function(e){this.scrollGridRef.current.forceScrollTop(1,e)},t.prototype.getResourceScroll=function(){return this.timeBodyScrollerElRef.current.scrollTop},t.prototype.componentDidMount=function(){this.initSpreadsheetResizing()},t.prototype.componentWillUnmount=function(){this.destroySpreadsheetResizing()},t.prototype.initSpreadsheetResizing=function(){var e=this,n=this.context,o=n.isRtl,l=n.pluginHooks.elementDraggingImpl,c=this.spreadsheetHeaderChunkElRef.current;if(l){var p,h,d=this.rootElRef.current,u=this.spreadsheetResizerDragging=new l(d,".fc-resource-timeline-divider");u.emitter.on("dragstart",function(){p=c.getBoundingClientRect().width,h=d.getBoundingClientRect().width}),u.emitter.on("dragmove",function(g){var f=p+g.deltaX*(o?-1:1);f=Math.max(f,30),f=Math.min(f,h-30),e.setState({resourceAreaWidthOverride:f},e.ensureScrollGridResize)}),u.setAutoScrollEnabled(!1)}},t.prototype.destroySpreadsheetResizing=function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()},t}(i.H6J),kt=function(r){function t(e,n){var o=r.call(this,e,n)||this;return o.processColOptions=(0,i.HPs)(qo),o.buildTimelineDateProfile=(0,i.HPs)(Xe),o.hasNesting=(0,i.HPs)(Lo),o.buildRowNodes=(0,i.HPs)(mt),o.layoutRef=(0,i.VfA)(),o.rowNodes=[],o.renderedRowNodes=[],o.buildRowIndex=(0,i.HPs)(No),o.handleSlatCoords=function(a){o.setState({slatCoords:a})},o.handleRowCoords=function(a){o.rowCoords=a,o.scrollResponder.update(!1)},o.handleMaxCushionWidth=function(a){o.setState({slotCushionMaxWidth:Math.ceil(a)})},o.handleScrollLeftRequest=function(a){o.layoutRef.current.forceTimeScroll(a)},o.handleScrollRequest=function(a){var l=o.rowCoords,c=o.layoutRef.current,d=a.rowId||a.resourceId;if(l){if(d){var p=o.buildRowIndex(o.renderedRowNodes)[d];if(null!=p){var h=null!=a.fromBottom?l.bottoms[p]-a.fromBottom:l.tops[p];c.forceResourceScroll(h)}}return!0}return null},o.handleColWidthChange=function(a){o.setState({spreadsheetColWidths:a})},o.state={resourceAreaWidth:n.options.resourceAreaWidth,spreadsheetColWidths:[]},o}return(0,v.ZT)(t,r),t.prototype.render=function(){var e=this,n=this,o=n.props,a=n.state,l=n.context,c=l.options,d=l.viewSpec,u=this.processColOptions(l.options),p=u.superHeaderRendering,h=u.groupSpecs,g=u.orderSpecs,f=u.isVGrouping,m=u.colSpecs,y=this.buildTimelineDateProfile(o.dateProfile,l.dateEnv,c,l.dateProfileGenerator),S=this.rowNodes=this.buildRowNodes(o.resourceStore,h,g,f,o.resourceEntityExpansions,c.resourcesInitiallyExpanded),w=["fc-resource-timeline",this.hasNesting(S)?"":"fc-resource-timeline-flat","fc-timeline",!1===c.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],x=c.slotMinWidth,b=lt(y,x||this.computeFallbackSlotMinWidth(y));return(0,i.azq)(i.xS$,{viewSpec:d},function(D,T){return(0,i.azq)("div",{ref:D,className:w.concat(T).join(" ")},(0,i.azq)(Oo,{ref:e.layoutRef,forPrint:o.forPrint,isHeightAuto:o.isHeightAuto,spreadsheetCols:Wo(m,a.spreadsheetColWidths,""),spreadsheetHeaderRows:function(E){return(0,i.azq)(Do,{superHeaderRendering:p,colSpecs:m,onColWidthChange:e.handleColWidthChange,rowInnerHeights:E.rowSyncHeights})},spreadsheetBodyRows:function(E){return(0,i.azq)(i.HYg,null,e.renderSpreadsheetRows(S,m,E.rowSyncHeights))},timeCols:b,timeHeaderContent:function(E){return(0,i.azq)(nt,{clientWidth:E.clientWidth,clientHeight:E.clientHeight,tableMinWidth:E.tableMinWidth,tableColGroupNode:E.tableColGroupNode,dateProfile:o.dateProfile,tDateProfile:y,slatCoords:a.slatCoords,rowInnerHeights:E.rowSyncHeights,onMaxCushionWidth:x?null:e.handleMaxCushionWidth})},timeBodyContent:function(E){return(0,i.azq)(Ho,{dateProfile:o.dateProfile,clientWidth:E.clientWidth,clientHeight:E.clientHeight,tableMinWidth:E.tableMinWidth,tableColGroupNode:E.tableColGroupNode,expandRows:E.expandRows,tDateProfile:y,rowNodes:S,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,resourceStore:o.resourceStore,nextDayThreshold:l.options.nextDayThreshold,rowInnerHeights:E.rowSyncHeights,onSlatCoords:e.handleSlatCoords,onRowCoords:e.handleRowCoords,onScrollLeftRequest:e.handleScrollLeftRequest,onRowHeightChange:E.reportRowHeightChange})}}))})},t.prototype.renderSpreadsheetRows=function(e,n,o){return e.map(function(a,l){return a.group?(0,i.azq)(Rt,{key:a.id,id:a.id,spreadsheetColCnt:n.length,isExpanded:a.isExpanded,group:a.group,innerHeight:o[l]||""}):a.resource?(0,i.azq)(xt,{key:a.id,colSpecs:n,rowSpans:a.rowSpans,depth:a.depth,isExpanded:a.isExpanded,hasChildren:a.hasChildren,resource:a.resource,innerHeight:o[l]||""}):null})},t.prototype.componentDidMount=function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.getSnapshotBeforeUpdate=function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}},t.prototype.componentDidUpdate=function(e,n,o){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),o.resourceScroll&&this.handleScrollRequest(o.resourceScroll)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},t.prototype.queryResourceScroll=function(){var n=this.rowCoords,o=this.renderedRowNodes;if(n){for(var a=this.layoutRef.current,l=n.bottoms,c=a.getResourceScroll(),d={},u=0;u<l.length;u+=1){var p=o[u],h=l[u]-c;if(h>0){d.rowId=p.id,d.fromBottom=h;break}}return d}return null},t}(i.H6J);function No(r){for(var t={},e=0;e<r.length;e+=1)t[r[e].id]=e;return t}function Wo(r,t,e){return void 0===e&&(e=""),r.map(function(n,o){return{className:n.isMain?"fc-main-col":"",width:t[o]||n.width||e}})}function Lo(r){for(var t=0,e=r;t<e.length;t++){var n=e[t];if(n.group||n.resource&&n.hasChildren)return!0}return!1}function qo(r){var t=r.resourceAreaColumns||[],e=null;t.length?r.resourceAreaHeaderContent&&(e={headerClassNames:r.resourceAreaHeaderClassNames,headerContent:r.resourceAreaHeaderContent,headerDidMount:r.resourceAreaHeaderDidMount,headerWillUnmount:r.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:r.resourceAreaHeaderClassNames,headerContent:r.resourceAreaHeaderContent||"Resources",headerDidMount:r.resourceAreaHeaderDidMount,headerWillUnmount:r.resourceAreaHeaderWillUnmount});for(var n=[],o=[],a=[],l=!1,c=0,d=t;c<d.length;c++){var u=d[c];u.group?o.push((0,v.pi)((0,v.pi)({},u),{cellClassNames:u.cellClassNames||r.resourceGroupLabelClassNames,cellContent:u.cellContent||r.resourceGroupLabelContent,cellDidMount:u.cellDidMount||r.resourceGroupLabelDidMount,cellWillUnmount:u.cellWillUnmount||r.resourceGroupLaneWillUnmount})):n.push(u)}var p=n[0];if(p.isMain=!0,p.cellClassNames=p.cellClassNames||r.resourceLabelClassNames,p.cellContent=p.cellContent||r.resourceLabelContent,p.cellDidMount=p.cellDidMount||r.resourceLabelDidMount,p.cellWillUnmount=p.cellWillUnmount||r.resourceLabelWillUnmount,o.length)a=o,l=!0;else{var h=r.resourceGroupField;h&&a.push({field:h,labelClassNames:r.resourceGroupLabelClassNames,labelContent:r.resourceGroupLabelContent,labelDidMount:r.resourceGroupLabelDidMount,labelWillUnmount:r.resourceGroupLabelWillUnmount,laneClassNames:r.resourceGroupLaneClassNames,laneContent:r.resourceGroupLaneContent,laneDidMount:r.resourceGroupLaneDidMount,laneWillUnmount:r.resourceGroupLaneWillUnmount})}for(var f=[],m=0,y=r.resourceOrder||no;m<y.length;m++){for(var S=y[m],w=!1,x=0,b=a;x<b.length;x++){var D=b[x];if(D.field===S.field){D.order=S.order,w=!0;break}}w||f.push(S)}return{superHeaderRendering:e,isVGrouping:l,groupSpecs:a,colSpecs:o.concat(n),orderSpecs:f}}kt.addStateEquality({spreadsheetColWidths:i.CnA});const Bo=(0,i.rxu)({deps:[te,mo,ur],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:kt,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});var Zo=C(12877),Z=C(3352);class q{constructor(t){this.viewContainerRef=t,this.activeViews=new Map,this.detachedViews=[]}getView(t,e,n){let o=this.activeViews.get(e);return o?((0,Z.qu)("Returning active view %O",e),o.detectChanges(),o):((0,Z.qu)("CREATING new view %O",e),o=this.viewContainerRef.createEmbeddedView(t,n),this.activeViews.set(e,o),o.detectChanges(),o)}ngOnDestroy(){this.destroyAll()}destroyAll(){(0,Z.qu)("Destroying all views"),Array.from(this.activeViews.values()).forEach(this.destroyView.bind(this)),(0,Z.qu)("Destroying %O active views",this.activeViews.size),this.activeViews.clear(),this.destroyDetached()}destroyDetached(){for((0,Z.qu)("Destroying %O detached views",this.detachedViews.length);this.detachedViews.length;)this.destroyView(this.detachedViews.pop())}markForDestruction(t){const e=this.activeViews.get(t);!e||((0,Z.qu)("Marking view %O to be destroyed",t),this.activeViews.delete(t),this.detachedViews.push(e))}destroyView(t){const e=this.viewContainerRef.indexOf(t);-1!==e&&this.viewContainerRef.remove(e),t.destroy()}}q.\u0275fac=function(t){return new(t||q)(s.LFG(s.s_b))},q.\u0275prov=s.Yz7({token:q,factory:q.\u0275fac});var ke=C(74647),Dt=C(43440),De=C(65146),Et=C(70482),Fo=C(96457),Pt=C(26942),jo=C(12703),_t=C(67727),Ee=C(61908),Vo=C(84109),Tt=C(97656);const se=[{id:"skeleton-resource-1",title:"",href:"skeleton-resource-1"},{id:"skeleton-resource-2",title:"",href:"skeleton-resource-2"},{id:"skeleton-resource-3",title:"",href:"skeleton-resource-3"}],Pe={editable:!1,eventStartEditable:!1,eventDurationEditable:!1,allDay:!0,backgroundColor:"#FFFFFF",borderColor:"#FFFFFF",title:""},Go=[Object.assign(Object.assign({},Pe),{id:"skeleton-1",resourceId:se[0].id,start:moment().subtract(1,"days").toDate(),end:moment().add(1,"day").toDate(),viewBox:"0 0 800 80"}),Object.assign(Object.assign({},Pe),{id:"skeleton-2",resourceId:se[1].id,start:moment().subtract(3,"days").toDate(),end:moment().toDate(),viewBox:"0 0 1200 80"}),Object.assign(Object.assign({},Pe),{id:"skeleton-3",resourceId:se[2].id,start:moment().toDate(),end:moment().add(3,"days").toDate(),viewBox:"0 0 1200 80"})];var Yo=C(41599),$o=C(36293),Jo=C(86469),Qo=C(53916),Xo=C(52377),It=C(47775),Ko=C(2775),Mt=C(81134),ei=C(18293),ti=C(62964),ni=C(55977),ri=C(87912),zt=C(1707),Ht=C(37409),_e=C(70099);const At=["container"];function oi(r,t){if(1&r){const e=s.EpF();s.ynx(0),s.TgZ(1,"wp-single-card",8),s.NdJ("stateLinkClicked",function(o){return s.CHM(e),s.oxw(3).openStateLink(o)})("cardClicked",function(o){return s.CHM(e),s.oxw(3).workPackagesCalendar.onCardClicked(o)})("cardDblClicked",function(o){return s.CHM(e),s.oxw(3).workPackagesCalendar.onCardDblClicked(o)}),s.qZA(),s.BQk()}if(2&r){const e=t.$implicit,n=s.oxw(3);s.xp6(1),s.Q6J("workPackage",e)("selectedWhenOpen",!0)("showInfoButton",!0)("disabledInfo",n.showDisabledText(e)),s.uIk("data-drag-helper-id",e.id)("data-qa-selector","op-add-existing-pane--wp-"+e.id)}}function ii(r,t){if(1&r&&(s.ynx(0),s.TgZ(1,"div",5,6),s.YNc(3,oi,2,6,"ng-container",7),s.ALo(4,"async"),s.qZA(),s.BQk()),2&r){const e=s.oxw(2);s.xp6(3),s.Q6J("ngForOf",s.lcZ(4,1,e.currentWorkPackages$))}}function ai(r,t){if(1&r&&s._UZ(0,"img",12),2&r){const e=s.oxw(3);s.Q6J("src",e.image.empty_state,s.LSH)}}function si(r,t){if(1&r&&(s.TgZ(0,"div",9),s.YNc(1,ai,1,1,"img",10),s.ALo(2,"async"),s._UZ(3,"span",11),s.ALo(4,"async"),s.qZA()),2&r){const e=s.oxw(2);let n,o;s.xp6(1),s.Q6J("ngIf",null==(n=s.lcZ(2,2,e.noResultsFound$))?null:n.showImage),s.xp6(2),s.Q6J("innerHTML",null==(o=s.lcZ(4,4,e.noResultsFound$))?null:o.text,s.oJD)}}function li(r,t){if(1&r&&(s.ynx(0),s.YNc(1,ii,5,3,"ng-container",2),s.ALo(2,"async"),s.YNc(3,si,5,6,"ng-template",null,4,s.W1O),s.BQk()),2&r){const e=s.MAs(4),n=s.oxw();s.xp6(1),s.Q6J("ngIf",!1===s.lcZ(2,2,n.isEmpty$))("ngIfElse",e)}}function ci(r,t){1&r&&(s.TgZ(0,"op-content-loader",13),s.O4$(),s._UZ(1,"rect",14),s._UZ(2,"rect",15),s._UZ(3,"rect",16),s.qZA())}class V extends Pt.N{constructor(t,e,n,o,a,l,c,d,u,p,h){super(),this.querySpace=t,this.I18n=e,this.apiV3Service=n,this.notificationService=o,this.currentProject=a,this.urlParamsHelper=l,this.workPackagesCalendar=c,this.calendarDrag=d,this.$state=u,this.actions$=p,this.wpFilters=h,this.className=!0,this.searchString$=new W.X(""),this.isEmpty$=new W.X(!0),this.isLoading$=new W.X(!1),this.noResultsFound$=this.isEmpty$.pipe((0,z.U)(g=>0===this.searchString$.getValue().length?{showImage:!0,text:this.text.empty_state}:g?{showImage:!1,text:this.text.no_results}:{})),this.currentWorkPackages$=(0,U.aj)([this.calendarDrag.draggableWorkPackages$,this.querySpace.results.values$()]).pipe((0,z.U)(([g,f])=>{const m=f.elements.map(y=>y.id);return g.filter(y=>!m.includes(y.id))})),this.workPackageRemoved$=this.actions$.ofType(Ae).pipe((0,pe.O)(null)),this.text={empty_state:this.I18n.t("js.team_planner.quick_add.empty_state"),placeholder:this.I18n.t("js.team_planner.quick_add.search_placeholder"),no_results:this.I18n.t("js.autocompleter.notFoundText")},this.image={empty_state:(0,Tt.h)("team-planner/add-existing-pane--empty-state.gif")}}set dragContainer(t){void 0!==t&&(this.calendarDrag.destroyDrake(),this.calendarDrag.registerDrag(t,".op-add-existing-pane--wp"))}ngOnInit(){(0,U.aj)([this.searchString$.pipe((0,Ue.x)(),(0,j.b)(500)),this.wpFilters.updates$().pipe((0,pe.O)(null)),this.workPackageRemoved$]).pipe(this.untilDestroyed(),(0,z.U)(([t])=>t),(0,Le.w)(t=>this.searchWorkPackages(t))).subscribe(t=>{this.calendarDrag.draggableWorkPackages$.next(t),this.isEmpty$.next(0===t.length),this.isLoading$.next(!1)})}ngOnDestroy(){super.ngOnDestroy(),this.calendarDrag.destroyDrake()}searchWorkPackages(t){if(this.isLoading$.next(!0),0===t.length)return this.isLoading$.next(!1),this.isEmpty$.next(!0),(0,Mt.of)([]);const e=this.wpFilters.currentlyVisibleFilters,n=this.urlParamsHelper.filterBuilderFrom(e);return n.add("typeahead","**",[t]),this.addExistingFilters(n),this.apiV3Service.withOptionalProject(this.currentProject.id).work_packages.filtered(n,{pageSize:"-1"}).get().pipe((0,z.U)(o=>o.elements),(0,ei.K)(o=>(this.notificationService.handleRawError(o),(0,Mt.of)([]))),this.untilDestroyed())}clearInput(){this.searchString$.next("")}get isSearching(){return""!==this.searchString$.value}showDisabledText(t){return{text:this.calendarDrag.workPackageDisabledExplanation(t),orientation:"left"}}openStateLink(t){this.$state.go(`${(0,Et.W)(this.$state)}.tabs`,{workPackageId:t.workPackageId,tabIdentifier:"overview"})}addExistingFilters(t){const e=this.querySpace.query.value;(null==e?void 0:e.filters)&&this.urlParamsHelper.buildV3GetFilters(e.filters).forEach(o=>{Object.keys(o).forEach(a=>{"assignee"!==a&&"datesInterval"!==a&&t.add(a,o[a].operator,o[a].values)})})}}V.\u0275fac=function(t){return new(t||V)(s.Y36(Dt.q),s.Y36(X.D),s.Y36(Ee.T),s.Y36(ti.q),s.Y36(De.R),s.Y36(ni.Z),s.Y36(K.W),s.Y36(L),s.Y36(It.StateService),s.Y36(de.b),s.Y36(ke.Z))},V.\u0275cmp=s.Xpm({type:V,selectors:[["op-add-existing-pane"]],viewQuery:function(t,e){if(1&t&&(s.Gf(At,5),s.Gf(At,5)),2&t){let n;s.iGM(n=s.CRH())&&(e.container=n.first),s.iGM(n=s.CRH())&&(e.dragContainer=n.first)}},hostVars:2,hostBindings:function(t,e){2&t&&s.ekj("op-add-existing-pane",e.className)},features:[s.qOj],decls:7,vars:8,consts:[["data-qa-selector","op-add-existing-pane--search-input",3,"ngModel","placeholder","ngModelChange"],["slot","before",1,"spot-icon","spot-icon_search"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["emptyTemplate",""],[1,"op-add-existing-pane--results"],["container",""],[4,"ngFor","ngForOf"],[1,"op-add-existing-pane--wp",3,"workPackage","selectedWhenOpen","showInfoButton","disabledInfo","stateLinkClicked","cardClicked","cardDblClicked"],["data-qa-selector","op-add-existing-pane--empty-state",1,"op-add-existing-pane--empty-state"],["class","op-add-existing-pane--empty-state-image",3,"src",4,"ngIf"],[1,"op-add-existing-pane--empty-state-text",3,"innerHTML"],[1,"op-add-existing-pane--empty-state-image",3,"src"],["viewBox","0 0 200 44",1,"op-add-existing-pane--loading"],["x","0","y","0","width","50%","height","12","rx","1"],["x","0","y","16","width","100%","height","12","rx","1"],["x","0","y","32","width","100%","height","12","rx","1"]],template:function(t,e){if(1&t&&(s.TgZ(0,"spot-text-field",0),s.NdJ("ngModelChange",function(o){return e.searchString$.next(o)}),s.ALo(1,"async"),s._UZ(2,"span",1),s.qZA(),s.YNc(3,li,5,4,"ng-container",2),s.ALo(4,"async"),s.YNc(5,ci,4,0,"ng-template",null,3,s.W1O)),2&t){const n=s.MAs(6);s.Q6J("ngModel",s.lcZ(1,4,e.searchString$))("placeholder",e.text.placeholder),s.xp6(3),s.Q6J("ngIf",!1===s.lcZ(4,6,e.isLoading$))("ngIfElse",n)}},directives:[ri.A,zt.JJ,zt.On,O.O5,O.sg,Ht.P,_e.V],pipes:[O.Ov],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 0 10px 5px #0000001a;z-index:10000!important}[_nghost-%COMP%]{display:grid;grid-template-rows:32px 1fr;grid-row-gap:10px;background:#F3F3F3;padding:8px}.op-add-existing-pane--results[_ngcontent-%COMP%]{overflow:auto;scrollbar-color:transparent transparent;scrollbar-width:thin}.op-add-existing-pane--results[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px;width:10px}.op-add-existing-pane--results[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.op-add-existing-pane--results[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#DDDDDD;visibility:hidden}.op-add-existing-pane--results[_ngcontent-%COMP%]:hover{scrollbar-color:#DDDDDD transparent}.op-add-existing-pane--results[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{visibility:visible}.op-add-existing-pane--empty-state[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr}.op-add-existing-pane--empty-state-image[_ngcontent-%COMP%]{width:160px;margin:0 auto}.op-add-existing-pane--empty-state-text[_ngcontent-%COMP%]{margin:0 24px;text-align:center;line-height:1.25}.op-add-existing-pane--loading[_ngcontent-%COMP%]{height:85px;padding:8px 16px;background:white;border-radius:5px}"],changeDetection:0});var di=C(3742);class G{}G.\u0275fac=function(t){return new(t||G)},G.\u0275cmp=s.Xpm({type:G,selectors:[["op-principal-loading-skeleton"]],decls:4,vars:0,consts:[[1,"op-principal-loading-skeleton"],["viewBox","0 0 180 80"],["height","30%","rx","4","ry","4","width","117","x","75","y","30"],["cx","35","cy","42","r","35"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"op-content-loader",1),s.O4$(),s._UZ(2,"rect",2),s._UZ(3,"circle",3),s.qZA(),s.qZA())},directives:[_e.V],styles:[".op-principal-loading-skeleton[_ngcontent-%COMP%]{width:100%;position:relative;background:var(--body-background);font-size:var(--card-font-size);overflow:hidden;height:80px}"],changeDetection:0});var ui=C(91923),pi=C(70233),hi=C(26269),fi=C(91593);class Y{constructor(t,e,n,o,a,l,c,d,u){this.elementRef=t,this.halResourceService=e,this.I18n=n,this.halNotification=o,this.pathHelper=a,this.apiV3Service=l,this.injector=c,this.currentProjectService=d,this.wpTableFilters=u,this.selectAssignee=new s.vpe,this.alreadySelected=[],this.getOptionsFn=p=>this.autocomplete(p)}autocomplete(t){const e=new hi.qM,n=this.currentProjectService.id;return e.add("member","=",[n]),t&&e.add("typeahead","**",[t]),this.apiV3Service.principals.filtered(e).get().pipe((0,z.U)(o=>o.elements.filter(a=>!this.alreadySelected.find(l=>l===a.id))))}selectUser(t){this.selectAssignee.emit(t)}}Y.\u0275fac=function(t){return new(t||Y)(s.Y36(s.SBq),s.Y36(ui.u),s.Y36(X.D),s.Y36(_t.W),s.Y36(pi.j),s.Y36(Ee.T),s.Y36(s.zs3),s.Y36(De.R),s.Y36(ke.Z))},Y.\u0275cmp=s.Xpm({type:Y,selectors:[["op-tp-add-assignee"]],inputs:{alreadySelected:"alreadySelected"},outputs:{selectAssignee:"selectAssignee"},decls:1,vars:2,consts:[["data-qa-selector","tp-add-assignee","resource","user","appendTo","body",3,"fetchDataDirectly","getOptionsFn","change"]],template:function(t,e){1&t&&(s.TgZ(0,"op-autocompleter",0),s.NdJ("change",function(o){return e.selectUser(o)}),s.qZA()),2&t&&s.Q6J("fetchDataDirectly",!0)("getOptionsFn",e.getOptionsFn)},directives:[fi.s],encapsulation:2,changeDetection:0});class ${constructor(){this.viewBox="0 0 800 80"}}$.\u0275fac=function(t){return new(t||$)},$.\u0275cmp=s.Xpm({type:$,selectors:[["op-wp-loading-skeleton"]],inputs:{viewBox:"viewBox"},decls:4,vars:1,consts:[[1,"op-wp-loading-skeleton"],[3,"viewBox"],["x","0","y","0","rx","3","ry","3","width","20%","height","35%"],["x","0","y","40%","rx","3","ry","3","width","100%","height","35%"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"op-content-loader",1),s.O4$(),s._UZ(2,"rect",2),s._UZ(3,"rect",3),s.qZA(),s.qZA()),2&t&&(s.xp6(1),s.Q6J("viewBox",e.viewBox))},directives:[_e.V],styles:['.op-wp-loading-skeleton[_ngcontent-%COMP%]{width:calc(100% - 2px);border:1px solid var(--widget-box-block-border-color);border-radius:2px;padding:10px;position:relative;box-shadow:1px 1px 3px #d3d3d3;background:var(--body-background);font-size:var(--card-font-size);overflow:hidden;height:80px}.op-wp-loading-skeleton[_ngcontent-%COMP%]:after{width:12px;height:100px;background:white;content:"";display:block;position:absolute;right:0;top:0}'],changeDetection:0});const gi=["ucCalendar"],vi=["eventContent"],mi=["resourceContent"],yi=["assigneeAutocompleter"],Ci=["removeDropzone"],Si=["addExistingToggle"];function wi(r,t){1&r&&s._UZ(0,"op-add-existing-pane",12)}const xi=function(r){return{"-active":r}};function Ri(r,t){if(1&r){const e=s.EpF();s.ynx(0),s.TgZ(1,"button",7,8),s.NdJ("click",function(){return s.CHM(e),s.oxw().toggleAddExistingPane()}),s.ALo(3,"async"),s._UZ(4,"op-icon",9),s._UZ(5,"span",10),s.qZA(),s.YNc(6,wi,1,0,"op-add-existing-pane",11),s.ALo(7,"async"),s.BQk()}if(2&r){const e=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(8,xi,s.lcZ(3,4,e.showAddExistingPane)))("title",e.text.add_existing_title),s.xp6(4),s.Q6J("textContent",e.text.add_existing),s.xp6(1),s.Q6J("ngIf",s.lcZ(7,6,e.showAddExistingPane))}}const bi=function(r){return{"op-team-planner--calendar_empty":r}};function ki(r,t){if(1&r&&(s._UZ(0,"full-calendar",16,17),s.ALo(2,"async")),2&r){const e=s.oxw().ngIf,n=s.oxw();s.Q6J("options",e)("ngClass",s.VKq(4,bi,s.lcZ(2,2,n.isEmpty$)))}}function Di(r,t){if(1&r){const e=s.EpF();s.TgZ(0,"div",18),s._UZ(1,"img",19),s._UZ(2,"span",20),s.TgZ(3,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).showAssigneeAddRow()}),s.qZA(),s.qZA()}if(2&r){const e=s.oxw(2);s.xp6(1),s.Q6J("src",e.image.empty_state,s.LSH),s.xp6(1),s.Q6J("textContent",e.text.noData),s.xp6(1),s.Q6J("textContent",e.text.add_assignee)}}function Ei(r,t){if(1&r&&(s.ynx(0),s.YNc(1,ki,3,6,"full-calendar",13),s._UZ(2,"div",14),s.YNc(3,Di,4,3,"div",15),s.ALo(4,"async"),s.BQk()),2&r){const e=t.ngIf,n=s.oxw();s.xp6(1),s.Q6J("ngIf",e),s.xp6(1),s.Q6J("textContent",n.workPackagesCalendar.tooManyResultsText),s.xp6(1),s.Q6J("ngIf",s.lcZ(4,3,n.isEmpty$))}}function Pi(r,t){if(1&r){const e=s.EpF();s.TgZ(0,"div",24),s._UZ(1,"op-principal",25),s.TgZ(2,"button",26),s.NdJ("click",function(){s.CHM(e);const o=s.oxw().resource;return s.oxw().removeAssignee(o.id)}),s._UZ(3,"op-icon",27),s.qZA(),s.qZA()}if(2&r){const e=s.oxw().resource,n=s.oxw();s.xp6(1),s.Q6J("principal",e.extendedProps.principal)("hideName",n.isMobile),s.xp6(1),s.uIk("aria-label",n.text.remove_assignee)("data-qa-remove-assignee",e.extendedProps.principal.id)}}function _i(r,t){1&r&&s._UZ(0,"op-principal-loading-skeleton")}function Ti(r,t){if(1&r){const e=s.EpF();s.TgZ(0,"op-tp-add-assignee",28),s.NdJ("selectAssignee",function(o){return s.CHM(e),s.oxw(2).addAssignee(o)}),s.ALo(1,"async"),s.qZA()}if(2&r){const e=s.oxw(2);s.Q6J("alreadySelected",s.lcZ(1,1,e.principalIds$))}}function Ii(r,t){if(1&r&&(s.YNc(0,Pi,4,4,"div",22),s.YNc(1,_i,1,0,"op-principal-loading-skeleton",1),s.YNc(2,Ti,2,3,"op-tp-add-assignee",23)),2&r){const e=t.resource;s.Q6J("ngIf",e&&e.extendedProps.principal),s.xp6(1),s.Q6J("ngIf",e&&!e.extendedProps.principal&&e.id.startsWith("skeleton")),s.xp6(1),s.Q6J("ngIf",e&&!e.extendedProps.principal&&!e.id.startsWith("skeleton"))}}function Mi(r,t){if(1&r&&s._UZ(0,"op-wp-loading-skeleton",31),2&r){const e=s.oxw().event;s.Q6J("viewBox",e.extendedProps.viewBox)}}function zi(r,t){if(1&r){const e=s.EpF();s.TgZ(0,"wp-single-card",32),s.NdJ("stateLinkClicked",function(o){return s.CHM(e),s.oxw(2).openStateLink(o)})("cardClicked",function(o){return s.CHM(e),s.oxw(2).workPackagesCalendar.onCardClicked(o)})("cardDblClicked",function(o){return s.CHM(e),s.oxw(2).workPackagesCalendar.onCardDblClicked(o)})("cardContextMenu",function(o){return s.CHM(e),s.oxw(2).workPackagesCalendar.showEventContextMenu(o)}),s.ALo(1,"async"),s.qZA()}if(2&r){const e=t.ngIf,n=s.oxw(2);s.Q6J("workPackage",e)("selectedWhenOpen",!0)("orientation","horizontal")("highlightingMode","type")("showInfoButton",!0)("disabledInfo",n.showDisabledText(e))("isClosed",n.isStatusClosed(e))("showAsGhost",n.shouldShowAsGhost(e.id,s.lcZ(1,11,n.globalDraggingItem$)))("showAsInlineCard",!0)("showStartDate",!n.isWpStartDateInCurrentView(e))("showEndDate",!n.isWpEndDateInCurrentView(e))}}function Hi(r,t){if(1&r&&(s.YNc(0,Mi,1,1,"op-wp-loading-skeleton",29),s.YNc(1,zi,2,13,"wp-single-card",30)),2&r){const e=t.event;s.Q6J("ngIf",e.source&&"skeleton"===e.source.id),s.xp6(1),s.Q6J("ngIf",(!e.source||"work_packages"===e.source.id)&&e.extendedProps.workPackage)}}function Ai(r,t){if(1&r){const e=s.EpF();s.TgZ(0,"div",33),s.TgZ(1,"button",34),s.NdJ("click",function(){return s.CHM(e),s.oxw().showAssigneeAddRow()}),s._UZ(2,"span",35),s._UZ(3,"span",20),s.qZA(),s.qZA()}if(2&r){const e=s.oxw();s.xp6(3),s.Q6J("textContent",e.text.add_assignee)}}function Oi(r,t){if(1&r&&s._UZ(0,"span",40),2&r){const e=s.oxw(3);s.Q6J("textContent",e.text.drag_here_to_remove)}}function Ni(r,t){if(1&r&&s._UZ(0,"span",40),2&r){const e=s.oxw(3);s.Q6J("textContent",e.text.cannot_drag_here)}}function Wi(r,t){if(1&r){const e=s.EpF();s.TgZ(0,"div",37,38),s.NdJ("mouseenter",function(){return s.CHM(e),s.oxw(2).dropzoneHovered$.next(!0)})("mouseleave",function(){return s.CHM(e),s.oxw(2).dropzoneHovered$.next(!1)})("mouseup",function(){s.CHM(e);const o=s.oxw().ngIf,a=s.oxw();return o.canDrop&&a.removeEvent(o.dragging)}),s.YNc(2,Oi,1,1,"span",39),s.YNc(3,Ni,1,1,"span",39),s.qZA()}if(2&r){const e=s.oxw().ngIf;s.ekj("op-team-planner--remove-dropzone_active",e.isHovering&&e.canDrop)("op-team-planner--remove-dropzone_forbidden",!e.canDrop),s.xp6(2),s.Q6J("ngIf",e.canDrop),s.xp6(1),s.Q6J("ngIf",!e.canDrop)}}function Li(r,t){if(1&r&&(s.ynx(0),s.YNc(1,Wi,4,6,"div",36),s.BQk()),2&r){const e=t.ngIf;s.xp6(1),s.Q6J("ngIf",e.dragging)}}const qi=function(r){return{"op-team-planner_with_left_side_pane":r}};class J extends Pt.N{constructor(t,e,n,o,a,l,c,d,u,p,h,g,f,m,y,S,w,x,b,D,T,E,A){super(),this.$state=t,this.configuration=e,this.principalsResourceService=n,this.capabilitiesResourceService=o,this.wpTableFilters=a,this.querySpace=l,this.currentProject=c,this.viewLookup=d,this.I18n=u,this.injector=p,this.calendar=h,this.workPackagesCalendar=g,this.halEditing=f,this.halNotification=m,this.schemaCache=y,this.apiV3Service=S,this.calendarDrag=w,this.keepTab=x,this.actions$=b,this.toastService=D,this.loadingIndicatorService=T,this.weekdayService=E,this.deviceService=A,this.calendarOptions$=new We.xQ,this.draggingItem$=new W.X(void 0),this.globalDraggingItem$=(0,U.aj)([this.draggingItem$,this.calendarDrag.isDragging$]).pipe((0,z.U)(([k,R])=>void 0!==R?R:void 0!==k?k.event.extendedProps.workPackage.id:void 0)),this.dropzoneHovered$=new W.X(!1),this.dropzoneAllowed$=this.draggingItem$.pipe((0,ue.h)(k=>!!k),(0,z.U)(k=>{const R=k.event.extendedProps.workPackage,P=this.workPackagesCalendar.dateEditable(R),_=this.eventResourceEditable(R);return P&&_})),this.dropzone$=(0,U.aj)([this.draggingItem$,this.dropzoneHovered$,this.dropzoneAllowed$]).pipe((0,z.U)(([k,R,P])=>({dragging:k,isHovering:R,canDrop:P}))),this.projectIdentifier=void 0,this.showAddExistingPane=new W.X(!1),this.showAddAssignee$=new W.X(!1),this.principalIds$=this.wpTableFilters.live$().pipe(this.untilDestroyed(),(0,z.U)(k=>{const R=k.find(P=>"assignee"===P.id);return((null==R?void 0:R.values)||[]).map(P=>P.id)})),this.assigneeCaps$=this.wpTableFilters.live$().pipe(this.untilDestroyed(),(0,Le.w)(k=>{const R=[["action","=",["work_packages/assigned"]]],P=k.find(I=>"assignee"===I.id);if(P){const I=P.values.map(M=>M.id);R.push(["principal","=",I])}const _=k.find(I=>"project"===I.id);if(_){const I=_.values.map(M=>`p${M.id}`);R.push(["context","=",I])}else R.push(["context","=",[`p${this.currentProject.id}`]]);return this.capabilitiesResourceService.fetchCapabilities({pageSize:-1,filters:R})}),(0,z.U)(k=>k._embedded.elements.reduce((R,P)=>{const _=P._links.context.href,I=P._links.principal.href,M=R[_]||[];return Object.assign(Object.assign({},R),{[_]:[...M,I]})},{})),(0,pe.O)({}),(0,qe.d)(1)),this.params$=this.principalIds$.pipe(this.untilDestroyed(),(0,ue.h)(k=>k.length>0),(0,z.U)(k=>({filters:[["id","=",k]]}))),this.isEmpty$=(0,U.aj)([this.principalIds$,this.showAddAssignee$]).pipe((0,j.b)(250),(0,z.U)(([k,R])=>(this.loadingIndicatorService.table.stop(),!k.length&&!R))),this.loading$=null,this.assignees=[],this.statuses=[],this.image={empty_state:(0,Tt.h)("team-planner/empty-state.svg")},this.text={add_existing:this.I18n.t("js.team_planner.add_existing"),add_existing_title:this.I18n.t("js.team_planner.add_existing_title"),assignee:this.I18n.t("js.label_assignee"),add_assignee:this.I18n.t("js.team_planner.add_assignee"),remove_assignee:this.I18n.t("js.team_planner.remove_assignee"),noData:this.I18n.t("js.team_planner.no_data"),two_weeks:this.I18n.t("js.team_planner.two_weeks"),one_week:this.I18n.t("js.team_planner.one_week"),today:this.I18n.t("js.team_planner.today"),drag_here_to_remove:this.I18n.t("js.team_planner.drag_here_to_remove"),cannot_drag_here:this.I18n.t("js.team_planner.cannot_drag_here"),updating:this.I18n.t("js.ajax.updating"),successful_update:this.I18n.t("js.notice_successful_update")},this.principals$=this.principalIds$.pipe(this.untilDestroyed(),(0,sn.zg)(k=>this.principalsResourceService.lookupMany(k)),(0,j.b)(50),(0,Ue.x)((k,R)=>k.length===R.length&&0===k.length),(0,qe.d)(1)),this.isMobile=this.deviceService.isMobile}set ucCalendarElement(t){this.calendar.resizeObserver(t)}ngOnInit(){this.initializeCalendar(),this.projectIdentifier=this.currentProject.identifier||void 0,this.querySpace.results.values$().pipe(this.untilDestroyed()).subscribe(()=>{this.ucCalendar.getApi().refetchEvents()}),this.calendar.resize$.pipe(this.untilDestroyed(),(0,j.b)(50)).subscribe(()=>{this.ucCalendar.getApi().updateSize()}),this.params$.pipe(this.untilDestroyed()).subscribe(t=>{this.principalsResourceService.fetchPrincipals(t).subscribe()}),(0,U.aj)([this.principals$,this.showAddAssignee$]).pipe(this.untilDestroyed(),(0,j.b)(0)).subscribe(([t,e])=>{const n=this.ucCalendar.getApi();n.getResources().forEach(o=>o.remove()),t.forEach(o=>{const a=o._links.self.href;n.addResource({principal:o,id:a,title:o.name})}),e&&n.addResource({principal:null,id:"NEW",title:""})}),this.showAddAssignee$.next(!1),this.apiV3Service.statuses.get().pipe((0,he.q)(1)).subscribe(t=>{this.statuses=t.elements})}ngOnDestroy(){var t;super.ngOnDestroy(),null===(t=this.calendar.resizeObs)||void 0===t||t.disconnect()}initializeCalendar(){this.configuration.initialized.then(()=>{this.calendarOptions$.next(this.workPackagesCalendar.calendarOptions({schedulerLicenseKey:"GPL-My-Project-Is-Open-Source",selectable:!0,plugins:[Bo,Me.ZP],titleFormat:{year:"numeric",month:"long",day:"numeric"},buttonText:{today:this.text.today},initialView:this.workPackagesCalendar.initialView||"resourceTimelineWeek",headerToolbar:{left:"",center:"title",right:"prev,next today resourceTimelineWeek,resourceTimelineTwoWeeks"},views:{resourceTimelineWeek:{type:"resourceTimeline",buttonText:this.text.one_week,duration:{weeks:1},slotDuration:{days:1},slotLabelFormat:[{weekday:"long",day:"2-digit"}],resourceAreaColumns:[{field:"title",headerContent:{html:`<span class="spot-icon spot-icon_user"></span> <span class="hidden-for-mobile">${this.text.assignee}</span>`}}]},resourceTimelineTwoWeeks:{type:"resourceTimeline",buttonText:this.text.two_weeks,slotDuration:{days:1},duration:{weeks:2},dateIncrement:{weeks:1},slotLabelFormat:[{weekday:"short",day:"2-digit"}],resourceAreaColumns:[{field:"title",headerContent:{html:`<span class="spot-icon spot-icon_user"></span> <span class="hidden-for-mobile">${this.text.assignee}</span>`}}]}},progressiveEventRendering:!0,eventSources:[{id:"skeleton",events:Go,editable:!1},{id:"work_packages",events:this.calendarEventsFunction.bind(this)},{events:[],id:"background",color:"red",textColor:"white",display:"background",editable:!1}],resources:se,resourceAreaWidth:this.isMobile?"60px":"180px",select:this.handleDateClicked.bind(this),resourceLabelContent:t=>this.renderTemplate(this.resourceContent,t.resource.id,t),resourceLabelWillUnmount:t=>this.unrenderTemplate(t.resource.id),editable:!0,droppable:!0,eventResize:t=>this.updateEvent(t),eventResizeStart:t=>{t.event.extendedProps.workPackage.ignoreNonWorkingDays||this.addBackgroundEventsForNonWorkingDays()},eventResizeStop:()=>this.removeBackGroundEvents(),eventDragStart:t=>{var e;if("skeleton"===(null===(e=t.event.source)||void 0===e?void 0:e.id))return;const{el:n}=t;n.style.pointerEvents="none",this.draggingItem$.next(t),this.addBackgroundEvents(t.event)},eventDragStop:t=>{const{el:e}=t;e.style.removeProperty("pointer-events"),this.draggingItem$.next(void 0),this.removeBackGroundEvents()},eventDrop:t=>this.updateEvent(t),eventReceive:t=>(0,v.mG)(this,void 0,void 0,function*(){yield this.updateEvent(t);const e=t.event.extendedProps.workPackage;this.actions$.dispatch(Oe({workPackage:e.id}))}),eventContent:t=>{var e;if("background"!==(null===(e=t.event.source)||void 0===e?void 0:e.id))return this.renderTemplate(this.eventContent,this.eventId(t),t)},eventWillUnmount:t=>{var e;"background"!==(null===(e=t.event.source)||void 0===e?void 0:e.id)&&this.unrenderTemplate(this.eventId(t))}}))})}calendarEventsFunction(t,e,n){this.workPackagesCalendar.currentWorkPackages$.pipe((0,Be.M)(this.assigneeCaps$),(0,he.q)(1),(0,ln.x)(()=>this.clearLoading())).subscribe(([o,a])=>{const l=this.mapToCalendarEvents(o.elements,a);this.viewLookup.destroyDetached(),this.removeExternalEvents(),e(l)},n),this.workPackagesCalendar.updateTimeframe(t,this.projectIdentifier)}clearLoading(){const t=this.loading$;!t||(this.loading$=null,setTimeout(()=>{t.complete(),this.toastService.addSuccess(this.text.successful_update)},500))}renderTemplate(t,e,n){return this.isDraggedEvent(e)&&this.viewLookup.markForDestruction(e),{domNodes:this.viewLookup.getView(t,e,n).rootNodes}}unrenderTemplate(t){this.viewLookup.markForDestruction(t)}isDraggedEvent(t){var e,n;const o=this.draggingItem$.getValue();return!!o&&(null===(n=null===(e=o.event.extendedProps)||void 0===e?void 0:e.workPackage)||void 0===n?void 0:n.href)===t}eventId(t){var e,n;return[t.event.id,null===(e=t.event.start)||void 0===e?void 0:e.toISOString(),null===(n=t.event.end)||void 0===n?void 0:n.toISOString(),t.timeText,`dragging=${t.isDragging.toString()}`,`resizing=${t.isResizing.toString()}`].join("-")}showAssigneeAddRow(){this.showAddAssignee$.next(!0),this.ucCalendar.getApi().refetchEvents()}addAssignee(t){this.showAddAssignee$.next(!1);const e=n=>{n.values=[...n.values,t]};-1===this.wpTableFilters.findIndex("assignee")?this.wpTableFilters.replace("assignee",e.bind(this)):this.wpTableFilters.modify("assignee",e.bind(this))}removeAssignee(t){var e,n;const o=null===(n=null===(e=this.wpTableFilters.find("assignee"))||void 0===e?void 0:e.values)||void 0===n?void 0:n.length;o&&o<=1?this.wpTableFilters.remove("assignee"):this.wpTableFilters.modify("assignee",a=>{a.values=a.values.filter(l=>l.href!==t)})}isWpEndDateInCurrentView(t){const{dueDate:e}=t;if(!e)return!!t.date;const n=this.ucCalendar.getApi().view.currentEnd.setHours(0,0,0,0);return new Date(e).setHours(0,0,0,0)<n}isWpStartDateInCurrentView(t){const{startDate:e}=t;if(!e)return!!t.date;const n=this.ucCalendar.getApi().view.currentStart.setHours(0,0,0,0);return new Date(e).setHours(0,0,0,0)>=n}showDisabledText(t){const e=new Date(t.dueDate).setHours(0,0,0,0),n=this.ucCalendar.getApi().view.currentStart.setHours(0,0,0,0);return{text:this.calendarDrag.workPackageDisabledExplanation(t),orientation:e===n?"right":"left"}}isStatusClosed(t){const e=this.statuses.find(n=>n.id===t.status.id);return!!e&&e.isClosed}removeEvent(t){return(0,v.mG)(this,void 0,void 0,function*(){t.el.remove(),t.event.remove();const e=t.event.extendedProps.workPackage,n=this.halEditing.edit(e);n.setValue("assignee",{href:null}),n.setValue("startDate",null),n.setValue("dueDate",null),yield this.saveChangeset(n),this.actions$.dispatch(Ae({workPackage:e.id}))})}mapToCalendarEvents(t,e){return t.map(n=>{if(!n.assignee)return;const o=this.wpAssignee(n),a=this.workPackagesCalendar.eventDurationEditable(n),l=this.eventResourceEditable(n);return{id:`${n.href}-${o}`,resourceId:o,editable:a||l,durationEditable:a,resourceEditable:l,constraint:this.eventConstraints(n,e),title:n.subject,start:this.wpStartDate(n),end:this.wpEndDate(n),backgroundColor:"#FFFFFF",borderColor:"#FFFFFF",allDay:!0,workPackage:n}}).filter(n=>!!n)}handleDateClicked(t){var e;const n=new Date(t.start).getDate(),l=new Date(t.end).getDate()-n==1&&this.weekdayService.isNonWorkingDay(t.start);this.openNewSplitCreate(t.startStr,this.workPackagesCalendar.getEndDateFromTimestamp(t.endStr),(null===(e=t.resource)||void 0===e?void 0:e.id)||"",l)}openNewSplitCreate(t,e,n,o){const a={startDate:t,dueDate:e,_links:{assignee:{href:n}},ignoreNonWorkingDays:o};this.$state.go((0,Et.W)(this.$state,"new"),{defaults:a,tabIdentifier:"overview"})}openStateLink(t){const e={workPackageId:t.workPackageId};"split"===t.requestedState?this.keepTab.goCurrentDetailsState(e):this.keepTab.goCurrentShowState(e)}shouldShowAsGhost(t,e){return void 0!==e&&t!==e}updateEvent(t){return(0,v.mG)(this,void 0,void 0,function*(){const e=this.workPackagesCalendar.updateDates(t),n=t.event.getResources()[0];n&&e.setValue("assignee",{href:n.id}),this.calendarDrag.handleDrop(e.projectedResource),yield this.saveChangeset(e,t)})}saveChangeset(t,e){var n;return(0,v.mG)(this,void 0,void 0,function*(){try{this.loading$=new We.xQ,this.toastService.addLoading(this.loading$),yield this.halEditing.save(t)}catch(o){null===(n=this.loading$)||void 0===n||n.complete(),this.halNotification.showError(o.resource,t.projectedResource),this.calendarDrag.handleDropError(t.projectedResource),null==e||e.revert()}})}eventResourceEditable(t){var e;const n=this.schemaCache.of(t);return!!(null===(e=n.assignee)||void 0===e?void 0:e.writable)&&n.isAttributeEditable("assignee")}eventConstraints(t,e){const n={};if(!this.workPackagesCalendar.eventDurationEditable(t)&&!t.date&&(n.start=this.wpStartDate(t),n.end=this.wpEndDate(t)),!this.eventResourceEditable(t))return n.resourceIds=[this.wpAssignee(t)],n;const o=e[t.project.href];return o&&(n.resourceIds=[...o]),n}wpStartDate(t){return this.workPackagesCalendar.eventDate(t,"start")}wpEndDate(t){const e=this.workPackagesCalendar.eventDate(t,"due");return moment(e).add(1,"days").format("YYYY-MM-DD")}wpAssignee(t){return t.assignee.href}toggleAddExistingPane(){this.showAddExistingPane.next(!this.showAddExistingPane.getValue()),this.addExistingToggle.nativeElement.blur()}removeExternalEvents(){this.ucCalendar.getApi().getEvents().forEach(t=>{t.id.includes("external")&&t.remove()})}addBackgroundEvents(t){const e=t.extendedProps.workPackage;this.assigneeCaps$.pipe((0,ue.h)(n=>Object.keys(n).length>0),(0,he.q)(1),(0,z.U)(n=>n[e.project.href]),(0,Be.M)(this.principals$)).subscribe(([n,o])=>{const a=this.ucCalendar.getApi();e.ignoreNonWorkingDays||this.addBackgroundEventsForNonWorkingDays();const l={start:moment().subtract("1","month").toDate(),end:moment().add("1","month").toDate()};o.forEach(c=>{const d=c._links.self.href;(!n||!n.includes(d))&&a.addEvent(Object.assign(Object.assign({},l),{resourceId:d}),"background")})})}removeBackGroundEvents(){this.ucCalendar.getApi().getEvents().filter(t=>{var e;return"background"===(null===(e=t.source)||void 0===e?void 0:e.id)}).forEach(t=>t.remove())}addBackgroundEventsForNonWorkingDays(){const t=this.ucCalendar.getApi();let e=this.ucCalendar.getApi().view.activeStart;const n=this.ucCalendar.getApi().view.activeEnd,o=new Array;for(;e.toString()!==n.toString();)this.weekdayService.isNonWorkingDay(e)&&o.push({start:moment(e).format("YYYY-MM-DD"),end:moment(e).add("1","day").format("YYYY-MM-DD")}),e=moment(e).add("1","day").toDate();o.forEach(a=>{t.addEvent(Object.assign({},a),"background")})}}J.\u0275fac=function(t){return new(t||J)(s.Y36(It.StateService),s.Y36(Zo.e),s.Y36(Fo.P),s.Y36(Yo.a),s.Y36(ke.Z),s.Y36(Dt.q),s.Y36(De.R),s.Y36(q),s.Y36(X.D),s.Y36(s.zs3),s.Y36(Ne.j),s.Y36(K.W),s.Y36(jo.l),s.Y36(_t.W),s.Y36(ze.y),s.Y36(Ee.T),s.Y36(L),s.Y36(Vo.p),s.Y36(de.b),s.Y36($o.kl),s.Y36(Jo.vt),s.Y36(Xo.u),s.Y36(Qo.U))},J.\u0275cmp=s.Xpm({type:J,selectors:[["op-team-planner"]],viewQuery:function(t,e){if(1&t&&(s.Gf(ce.woE,5),s.Gf(gi,5,s.SBq),s.Gf(vi,5),s.Gf(mi,5),s.Gf(yi,5),s.Gf(Ci,5,s.SBq),s.Gf(Si,5,s.SBq)),2&t){let n;s.iGM(n=s.CRH())&&(e.ucCalendar=n.first),s.iGM(n=s.CRH())&&(e.ucCalendarElement=n.first),s.iGM(n=s.CRH())&&(e.eventContent=n.first),s.iGM(n=s.CRH())&&(e.resourceContent=n.first),s.iGM(n=s.CRH())&&(e.assigneeAutocompleter=n.first),s.iGM(n=s.CRH())&&(e.removeDropzone=n.first),s.iGM(n=s.CRH())&&(e.addExistingToggle=n.first)}},hostBindings:function(t,e){1&t&&s.NdJ("teamPlannerSelectDate",function(o){return e.openNewSplitCreate(o.detail.start,o.detail.end,o.detail.assignee)},!1,s.evT)},features:[s._Bn([q]),s.qOj],decls:17,vars:19,consts:[[1,"op-team-planner",3,"ngClass"],[4,"ngIf"],["data-qa-selector","op-team-planner--calendar-pane",1,"op-team-planner--calendar-pane"],["resourceContent",""],["eventContent",""],["data-qa-selector","op-team-planner-footer",1,"op-team-planner--footer"],["class","op-team-planner--add-assignee",4,"ngIf"],["data-qa-selector","op-team-planner--add-existing-toggle",1,"button","op-team-planner--add-existing-toggle",3,"ngClass","title","click"],["addExistingToggle",""],["icon-classes","icon-add button--icon"],[1,"button--text",3,"textContent"],["class","op-team-planner--add-existing-pane","data-qa-selector","add-existing-pane",4,"ngIf"],["data-qa-selector","add-existing-pane",1,"op-team-planner--add-existing-pane"],["class","op-team-planner--calendar fc-scroller",3,"options","ngClass",4,"ngIf"],[1,"op-wp-calendar--notification",3,"textContent"],["class","op-team-planner--no-data",4,"ngIf"],[1,"op-team-planner--calendar","fc-scroller",3,"options","ngClass"],["ucCalendar",""],[1,"op-team-planner--no-data"],[1,"op-team-planner--empty-state-image",3,"src"],[3,"textContent"],["type","button","data-qa-selector","op-team-planner--empty-state-button",1,"op-team-planner--empty-state-button","button","-highlight",3,"textContent","click"],["class","tp-assignee",4,"ngIf"],[3,"alreadySelected","selectAssignee",4,"ngIf"],[1,"tp-assignee"],[1,"tp-assignee--principal","op-principal_wrapped",3,"principal","hideName"],["type","button",1,"tp-assignee--remove",3,"click"],["icon-classes","icon-remove"],[3,"alreadySelected","selectAssignee"],["class","op-team-planner--wp-loading-skeleton",3,"viewBox",4,"ngIf"],[3,"workPackage","selectedWhenOpen","orientation","highlightingMode","showInfoButton","disabledInfo","isClosed","showAsGhost","showAsInlineCard","showStartDate","showEndDate","stateLinkClicked","cardClicked","cardDblClicked","cardContextMenu",4,"ngIf"],[1,"op-team-planner--wp-loading-skeleton",3,"viewBox"],[3,"workPackage","selectedWhenOpen","orientation","highlightingMode","showInfoButton","disabledInfo","isClosed","showAsGhost","showAsInlineCard","showStartDate","showEndDate","stateLinkClicked","cardClicked","cardDblClicked","cardContextMenu"],[1,"op-team-planner--add-assignee"],["type","button","data-qa-selector","tp-assignee-add-button",1,"spot-link",3,"click"],[1,"spot-icon","spot-icon_user-plus"],["class","op-team-planner--remove-dropzone","data-qa-selector","op-team-planner-dropzone",3,"op-team-planner--remove-dropzone_active","op-team-planner--remove-dropzone_forbidden","mouseenter","mouseleave","mouseup",4,"ngIf"],["data-qa-selector","op-team-planner-dropzone",1,"op-team-planner--remove-dropzone",3,"mouseenter","mouseleave","mouseup"],["removeDropzone",""],["class","op-team-planner--dropzone-label",3,"textContent",4,"ngIf"],[1,"op-team-planner--dropzone-label",3,"textContent"]],template:function(t,e){if(1&t&&(s.TgZ(0,"div",0),s.ALo(1,"async"),s.YNc(2,Ri,8,10,"ng-container",1),s.ALo(3,"async"),s.TgZ(4,"div",2),s.YNc(5,Ei,5,5,"ng-container",1),s.ALo(6,"async"),s.YNc(7,Ii,3,3,"ng-template",null,3,s.W1O),s.YNc(9,Hi,2,2,"ng-template",null,4,s.W1O),s.TgZ(11,"div",5),s.YNc(12,Ai,4,1,"div",6),s.ALo(13,"async"),s.ALo(14,"async"),s.YNc(15,Li,2,1,"ng-container",1),s.ALo(16,"async"),s.qZA(),s.qZA(),s.qZA()),2&t){let n;s.Q6J("ngClass",s.VKq(17,qi,s.lcZ(1,5,e.showAddExistingPane))),s.xp6(2),s.Q6J("ngIf",s.lcZ(3,7,e.calendarOptions$)&&!e.isMobile),s.xp6(3),s.Q6J("ngIf",s.lcZ(6,9,e.calendarOptions$)),s.xp6(7),s.Q6J("ngIf",!(s.lcZ(13,11,e.showAddAssignee$)||null!=(n=s.lcZ(14,13,e.dropzone$))&&n.dragging)),s.xp6(3),s.Q6J("ngIf",s.lcZ(16,15,e.dropzone$))}},directives:[O.mk,O.O5,Ko.o,V,ce.woE,di.N,G,Y,$,Ht.P],pipes:[O.Ov],styles:['.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 0 10px 5px #0000001a;z-index:10000!important}[_nghost-%COMP%]{display:block;height:100%;overflow:auto}.op-team-planner[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-template-rows:55px 1fr;grid-template-areas:". calendar" "addExisting calendar";height:100%;overflow:hidden}.op-team-planner--calendar-pane[_ngcontent-%COMP%]{grid-area:calendar;display:flex;flex-direction:column;overflow:hidden}.op-team-planner--calendar[_ngcontent-%COMP%]{overflow:auto}.op-team-planner--add-existing-pane[_ngcontent-%COMP%]{grid-area:addExisting;width:264px;min-width:264px;overflow:auto;margin-right:10px;z-index:2;font-size:14px}.op-team-planner--add-existing-toggle[_ngcontent-%COMP%]{position:absolute}.op-team-planner--footer[_ngcontent-%COMP%]{grid-area:footer;display:flex;margin-top:1rem}.op-team-planner--add-assignee[_ngcontent-%COMP%]{border-right:1px solid transparent}.op-team-planner--remove-dropzone[_ngcontent-%COMP%]{flex:1;border:1px dashed #1A67A3;box-sizing:border-box;height:2.25rem;display:flex;align-items:center;justify-content:center;font-size:14px}.op-team-planner--remove-dropzone_active[_ngcontent-%COMP%]{background:#D1E5F5}.op-team-planner--remove-dropzone_forbidden[_ngcontent-%COMP%]{border-color:var(--content-form-danger-zone-bg-color)}.op-team-planner--remove-dropzone_forbidden[_ngcontent-%COMP%]   .op-team-planner--dropzone-label[_ngcontent-%COMP%]{color:var(--content-form-danger-zone-bg-color)}.op-team-planner--dropzone-label[_ngcontent-%COMP%]{color:#1a67a3}.op-team-planner--no-data[_ngcontent-%COMP%]{min-height:250px;padding:2rem;background-color:#f3f3f3;display:flex;flex-direction:column;justify-content:center;align-items:center}.op-team-planner--empty-state-image[_ngcontent-%COMP%]{width:200px}.op-team-planner--empty-state-button[_ngcontent-%COMP%]{margin:1rem 0}'],changeDetection:0});const Ui=[{name:"team_planner",parent:"optional_project",url:"/team_planners/:query_id?query_props&cdate&cview",redirectTo:"team_planner.page",views:{"!$default":{component:Zt.p}},params:{query_id:{type:"opQueryId",dynamic:!0},cdate:{type:"string",dynamic:!0},cview:{type:"string",dynamic:!0},query_props:{type:"opQueryString"}}},{name:"team_planner.page",component:N,redirectTo:"team_planner.page.show",data:{bodyClasses:"router--team-planner"}},{name:"team_planner.page.show",data:{baseRoute:"team_planner.page.show"},views:{"content-left":{component:J}}},...(0,Ut.Z)("team_planner.page.show",void 0,Bt.o)];var Bi=C(21757),Zi=C(87523);class F{}F.\u0275fac=function(t){return new(t||F)},F.\u0275mod=s.oAB({type:F}),F.\u0275inj=s.cJS({imports:[[Bi.H,Ie.UIRouterModule.forChild({states:Ui}),le.wA,O.ez,Nt.Q,Lt.j,qt.H,ce.z1U,Wt.C,Zi.a]]})},60218:Q=>{Q.exports='\n\n  .fc .fc-resource-timeline-divider {\n    width: 3px; /* important to have width to shrink this cell. no cross-browser problems */\n    cursor: col-resize;\n  }\n\n.fc .fc-resource-group {\n    /* make it look less like a <th> */\n    font-weight: inherit;\n    text-align: inherit;\n  }\n\n.fc {\n\n\n  /* will match horizontal groups in the datagrid AND group lanes in the timeline area */\n\n}\n\n.fc .fc-resource-timeline .fc-resource-group:not([rowspan]) {\n      background: rgba(208, 208, 208, 0.3);\n      background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n    }\n\n.fc .fc-timeline-lane-frame {\n    position: relative; /* contains the fc-timeline-bg container, which liquidly expands */\n    /* the height is explicitly set by row-height-sync */\n  }\n\n.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events { /* has height set on it */\n    box-sizing: content-box; /* padding no longer part of height */\n    padding-bottom: 10px; /* give extra spacing underneath for selecting */\n  }\n\n/* hack to make bg expand to lane\'s full height in resource-timeline with expandRows (#6134) */\n\n.fc-timeline-body-expandrows td.fc-timeline-lane {\n    position: relative;\n  }\n\n.fc-timeline-body-expandrows .fc-timeline-lane-frame {\n    position: static;\n  }\n\n/* the "frame" */\n\n.fc-datagrid-cell-frame-liquid {\n  height: 100%; /* needs liquid hack */\n}\n\n.fc-liquid-hack .fc-datagrid-cell-frame-liquid {\n  height: auto;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  }\n\n.fc {\n\n  /* the "frame" in a HEADER */\n  /* needs to position the column resizer */\n  /* needs to vertically center content */\n\n}\n\n.fc .fc-datagrid-header .fc-datagrid-cell-frame {\n      position: relative; /* for resizer */\n      display: flex;\n      justify-content: flex-start; /* horizontal align (natural left/right) */\n      align-items: center; /* vertical align */\n    }\n\n.fc {\n\n  /* the column resizer (only in HEADER) */\n\n}\n\n.fc .fc-datagrid-cell-resizer {\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    bottom: 0;\n    width: 5px;\n    cursor: col-resize;\n  }\n\n.fc {\n\n  /* the cushion */\n\n}\n\n.fc .fc-datagrid-cell-cushion {\n    padding: 8px;\n    white-space: nowrap;\n    overflow: hidden; /* problem for col resizer :( */\n  }\n\n.fc {\n\n  /* expander icons */\n\n}\n\n.fc .fc-datagrid-expander {\n    cursor: pointer;\n    opacity: 0.65\n\n  }\n\n.fc .fc-datagrid-expander .fc-icon { /* the expander and spacers before the expander */\n      display: inline-block;\n      width: 1em; /* ensure constant width, esp for empty icons */\n    }\n\n.fc .fc-datagrid-expander-placeholder {\n    cursor: auto;\n  }\n\n.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder {\n      display: none;\n    }\n\n.fc-direction-ltr .fc-datagrid-cell-resizer { right: -3px }\n\n.fc-direction-rtl .fc-datagrid-cell-resizer { left: -3px }\n\n.fc-direction-ltr .fc-datagrid-expander { margin-right: 3px }\n\n.fc-direction-rtl .fc-datagrid-expander { margin-left: 3px }\n'},47445:Q=>{Q.exports="\n\n  .fc .fc-timeline-body {\n    min-height: 100%;\n    position: relative;\n    z-index: 1; /* scope slots, bg, etc */\n  }\n/*\nvertical slots in both the header AND the body\n*/\n.fc .fc-timeline-slots {\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    bottom: 0\n  }\n.fc .fc-timeline-slots > table {\n      height: 100%;\n    }\n.fc {\n\n  /* border for both header AND body cells */\n\n}\n.fc .fc-timeline-slot-minor {\n    border-style: dotted;\n  }\n.fc {\n\n  /* header cells (aka \"label\") */\n\n}\n.fc .fc-timeline-slot-frame {\n    display: flex;\n    align-items: center; /* vertical align */\n    justify-content: center; /* horizontal align */\n  }\n.fc .fc-timeline-header-row-chrono { /* a row of times */\n  }\n.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame {\n      justify-content: flex-start; /* horizontal align left or right */\n    }\n.fc .fc-timeline-header-row:last-child { /* guaranteed NOT to have sticky elements */\n  }\n.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame {\n      /* so text doesn't bleed out and cause extra scroll */\n      /* (won't work with sticky elements) */\n      overflow: hidden;\n    }\n.fc .fc-timeline-slot-cushion {\n    padding: 4px 5px; /* TODO: unify with fc-col-header? */\n    white-space: nowrap;\n  }\n.fc {\n\n  /* NOTE: how does the top row of cells get horizontally centered? */\n  /* for the non-chrono-row, the fc-sticky system looks for text-align center, */\n  /* and it's a fluke that the default browser stylesheet already does this for <th> */\n  /* TODO: have StickyScrolling look at natural left coord to detect centeredness. */\n\n}\n/* only owns one side, so can do dotted */\n.fc-direction-ltr .fc-timeline-slot { border-right: 0 !important }\n.fc-direction-rtl .fc-timeline-slot { border-left: 0 !important }\n.fc .fc-timeline-now-indicator-container {\n    position: absolute;\n    z-index: 4;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 0;\n  }\n.fc .fc-timeline-now-indicator-arrow,\n  .fc .fc-timeline-now-indicator-line {\n    position: absolute;\n    top: 0;\n    border-style: solid;\n    border-color: red;\n    border-color: var(--fc-now-indicator-color, red);\n  }\n.fc .fc-timeline-now-indicator-arrow {\n    margin: 0 -6px; /* 5, then one more to counteract scroller's negative margins */\n\n    /* triangle pointing down. TODO: mixin */\n    border-width: 6px 5px 0 5px;\n    border-left-color: transparent;\n    border-right-color: transparent;\n  }\n.fc .fc-timeline-now-indicator-line {\n    margin: 0 -1px; /* counteract scroller's negative margins */\n    bottom: 0;\n    border-width: 0 0 0 1px;\n  }\n.fc {\n\n  /* container */\n\n}\n.fc .fc-timeline-events {\n    position: relative;\n    z-index: 3;\n    width: 0; /* for event positioning. will end up on correct side based on dir */\n  }\n.fc {\n\n  /* harness */\n\n}\n.fc .fc-timeline-event-harness,\n  .fc .fc-timeline-more-link {\n    position: absolute;\n    top: 0; /* for when when top can't be computed yet */\n    /* JS will set tht left/right */\n  }\n/* z-index, scoped within fc-timeline-events */\n.fc-timeline-event { z-index: 1 }\n.fc-timeline-event.fc-event-mirror { z-index: 2 }\n.fc-timeline-event {\n  position: relative; /* contains things. TODO: make part of fc-h-event and fc-v-event */\n  display: flex; /* for v-aligning start/end arrows and making fc-event-main stretch all the way */\n  align-items: center;\n  border-radius: 0;\n  padding: 2px 1px;\n  margin-bottom: 1px;\n  font-size: .85em;\n  font-size: var(--fc-small-font-size, .85em)\n\n  /* time and title spacing */\n  /* ---------------------------------------------------------------------------------------------------- */\n}\n.fc-timeline-event .fc-event-main {\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-timeline-event .fc-event-time {\n    font-weight: bold;\n  }\n.fc-timeline-event .fc-event-time,\n  .fc-timeline-event .fc-event-title {\n    white-space: nowrap;\n    padding: 0 2px;\n  }\n/* move 1px away from slot line */\n.fc-direction-ltr .fc-timeline-event.fc-event-end,\n  .fc-direction-ltr .fc-timeline-more-link {\n    margin-right: 1px;\n  }\n.fc-direction-rtl .fc-timeline-event.fc-event-end,\n  .fc-direction-rtl .fc-timeline-more-link {\n    margin-left: 1px;\n  }\n/* make event beefier when overlap not allowed */\n.fc-timeline-overlap-disabled .fc-timeline-event {\n  padding-top: 5px;\n  padding-bottom: 5px;\n  margin-bottom: 0;\n}\n/* arrows indicating the event continues into past/future */\n/* ---------------------------------------------------------------------------------------------------- */\n/* part of the flexbox flow */\n.fc-timeline-event:not(.fc-event-start):before,\n.fc-timeline-event:not(.fc-event-end):after {\n  content: \"\";\n  flex-grow: 0;\n  flex-shrink: 0;\n  opacity: .5;\n\n  /* triangle. TODO: mixin */\n  width: 0;\n  height: 0;\n  margin: 0 1px;\n  border: 5px solid #000; /* TODO: var */\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n}\n/* pointing left */\n.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,\n.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after {\n  border-left: 0;\n}\n/* pointing right */\n.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,\n.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before {\n  border-right: 0;\n}\n/* +more events indicator */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-timeline-more-link {\n  font-size: .85em;\n  font-size: var(--fc-small-font-size, .85em);\n  color: inherit;\n  color: var(--fc-more-link-text-color, inherit);\n  background: #d0d0d0;\n  background: var(--fc-more-link-bg-color, #d0d0d0);\n  padding: 1px;\n  cursor: pointer;\n}\n.fc-timeline-more-link-inner { /* has fc-sticky */\n  display: inline-block;\n  left: 0;\n  right: 0;\n  padding: 2px;\n}\n.fc .fc-timeline-bg { /* a container for bg content */\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    bottom: 0;\n    width: 0;\n    left: 0; /* will take precedence when LTR */\n    right: 0; /* will take precedence when RTL */ /* TODO: kill */\n  }\n.fc .fc-timeline-bg .fc-non-business { z-index: 1 }\n.fc .fc-timeline-bg .fc-bg-event { z-index: 2 }\n.fc .fc-timeline-bg .fc-highlight { z-index: 3 }\n.fc .fc-timeline-bg-harness {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n  }\n\n"}}]);
//# sourceMappingURL=src_app_features_team-planner_team-planner_team-planner_module_ts.b9ab4eceb46c75ef8be2.js.map